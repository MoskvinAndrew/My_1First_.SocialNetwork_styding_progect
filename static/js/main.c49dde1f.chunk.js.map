{"version":3,"sources":["components/common/formsControls/formsControls.module.css","components/nav/nav.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/PhotoComponent/PhotoBlock.module.css","components/common/Preloader/Preloader.module.css","components/Users/Users.module.css","assets/unnamed.gif","assets/noPhoto.png","assets/light-aircraft-pilot-course-spain.jpg","components/News/News.tsx","components/Music/Music.tsx","api/api.tsx","utils/objects-helper.tsx","api/usersApi.ts","Redux/user_reducer_test_selectors/users-reducer.ts","components/Users/Users.tsx","components/common/Preloader/preloader.tsx","components/common/Paginator/Paginator.tsx","components/common/UsersSearchForm/SearchForm.tsx","components/Users/UsersApiContainer.tsx","Redux/user_reducer_test_selectors/users-selectors.tsx","components/Users/UsersContainer.ts","api/ProfileAPI.ts","Redux/profile_reducer_test_selectors/profile-reducer.ts","components/Profile/ProfileInfo/UserStatus/UserProfileStatus.tsx","components/Profile/ProfileInfo/PhotoComponent/PhotoElement.tsx","components/Profile/ProfileInfo/ProfileEditForm/ProfileForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/My posts/Post/Post.tsx","components/Profile/My posts/Post/PostContainer.tsx","utils/validators/validators.tsx","components/common/formsControls/formsControls.tsx","components/Profile/My posts/NewPostForm/NewPostForm.tsx","components/Profile/My posts/MyPosts.tsx","components/Profile/My posts/MyPostsContainer.tsx","components/Profile/Profile.tsx","hoc/AuthRedirect.tsx","Redux/profile_reducer_test_selectors/profile-selectors.tsx","components/Profile/ProfileContainer.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Dialogs.tsx","types/typesForAuthAxiosResponse.ts","components/Dialogs/DialogsContainer.tsx","api/AuthAPI.ts","api/securityAPI.ts","Redux/auth_reducer_test/auth-reducer.ts","components/Login/login.tsx","Redux/app_reducer_test/app-reducer.tsx","api/chat-api.ts","Redux/chatReducer/chat-reducer.ts","pages/ChatPage.tsx","App.tsx","serviceWorker.ts","Redux/dialogs_reducer_test/dialogs-reducer.ts","Redux/sidebar_reducer_test/sidebar-reduсer.tsx","Redux/redux-store.tsx","index.tsx","components/Profile/My posts/MyPosts.module.css","components/Dialogs/dialogs.module.css","components/common/Paginator/Paginator.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileEditForm/ProfileForm.module.css"],"names":["module","exports","News","Music","ResultCodesEnum","ResultCodeForCaptcha","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","instanse","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","term","friend","get","then","response","data","Unfollow","id","delete","Follow","post","initialState","users","totalUsersCount","isFetching","disableButtons","filter","actions","followAC","userID","type","unfollowAC","setUsersAC","totalUsersCountAC","setCurrentPageAC","setSearchFilter","payload","setIsFetchingAC","setTogleFollowingProgressAC","_followUnfollowFlow","userId","dispatch","apiMethod","actionCreator","a","console","log","resultCode","usersReducer","state","action","followed","copyState","UsersFunctional","React","memo","props","history","useHistory","useDispatch","useEffect","parsed","queryString","location","search","substr","push","pathname","actualFilter","page","Number","key","to","src","photos","large","small","className","S","userPhoto","disabled","some","onClick","UnFollow","name","Preloader","Pr","wrapper","imgLogo","planePreload","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","i","arrow","setArrow","onMouseOverHandler","onMouseLeave","style","button","onMouseOver","contentWrap","p","onClickHandler","selectedPage","pageNumber","UsersSearchForm","initialValues","onSubmit","values","setSubmitting","setTimeout","onFilterChanged","isSubmitting","as","value","component","UsersApiContain","getUsersTC","this","UnFollowTC","FollowTC","Component","getUsersPage","UsersPage","getPageSize","createSelector","length","getTotalUsersCount","getCurrentPage","getIsFetching","getDisableButtons","getFilter","UsersContainer","connect","bind","totalCount","ProfileAPI","userCurrentStatus","put","status","photoFile","formData","FormData","append","currentUserStatus","userProfile","postsData","v1","message","likes","addNewPostActionCreator","textNew","onLikeActionCreator","setUserProfile","setCurrentUserStatus","userStatus","savePhotoSuccess","getUserProfileTC","putUserStatusTC","saveAvatarTC","profileReducer","el","UserProfileStatus","statusStateValue","useSelector","profilePage","edit","setEdit","setStatus","onDoubleClick","autoFocus","onChange","event","valueOfStatusInput","currentTarget","onBlur","onKeyPress","charCode","PhotoElement","photoBlock","noPhoto","chooseFileButton","isOwner","avatar","target","files","ProfileDataForm","formik","useFormik","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","facebook","github","instagram","mainLink","twitter","vk","website","youtube","resetForm","updateProfileInformationTC","setEditMode","handleSubmit","profileDataContentWrapper","statusEditButtonChooseFileButton","profileUserData","FormGroup","FormLabel","TextField","size","label","getFieldProps","FormControlLabel","control","Checkbox","contactsList","Object","keys","contactsEdit","ProfileData","Contacts","contactTitle","contactValue","K","goToEditMode","ProfileInfo","editMode","mainWrapper","Post","C","item","contentPost","postImg","heart","onLike","likeCounter","PostContainer","onOnLikeActionCreator","requiredField","maxLengthCreator","maxLength","FormControl","input","meta","children","hasError","touched","error","formStyle","form_control","TextArea","restProps","child","Input","maxLength20","NewPostTextForm","reduxForm","form","Field","placeholder","validate","MyPosts","newPostData","postBlock","onAddNewPost","newPostText","MyPostsContainer","Profile","P","infoComponent","saveAvatar","backGround","withAuthRedirect","RedirectComponent","isAuth","auth","recivedUserId","ProfileContainer","match","params","getUserStatusTC","refreshProfile","prevProps","prevState","snapshot","compose","withRouter","DialogItem","dialog","link","ava","Dialogs","dialogsArrayNew","dialogsData","d","dialogs","dialogsItems","messages","dialogsPage","messagesData","AuthAPI","catch","alert","email","password","rememberMe","captcha","securityAPI","login","captchaUrl","AuthMeThunk","success","getCaptchaUrlTC","captchaURL","url","authReducer","maxLength30","LoginReduxForm","onSubmitSuccess","result","reset","form_summary_error","CaptchaIsRequired","initialized","appReducer","subscribers","ws","closeHandler","notifySubscribersAboutStatus","createChannel","onMessageHandler","e","newMessages","JSON","parse","forEach","s","cleanUp","removeEventListener","errorHandler","openHandler","close","WebSocket","addEventListener","chatApi","eventName","callback","send","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","chatReducer","m","index","array","Chat","AddMessageForm","setMessage","chat","sendMessage","Messages","messageAncorRef","useRef","isAutoScroll","setIsAutoScroll","current","scrollIntoView","behavior","height","overflow","onScroll","element","abs","scrollHeight","scrollTop","clientHeight","Message","ref","width","photo","userName","ChatPage","SubMenu","Menu","Header","Layout","Content","Footer","Sider","App","initializeAppTC","isInitialized","theme","mode","defaultSelectedKeys","Item","padding","margin","defaultOpenKeys","icon","UserOutlined","title","activeClassName","navCss","active","LaptopOutlined","minHeight","path","render","DialogsContainer","textAlign","app","promiseAuthMe","Promise","all","Boolean","window","hostname","text","dialogsReducer","newMessage","sidebarReducer","rootReducer","combineReducers","sidebarPage","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,aAAe,oCAAoC,MAAQ,6BAA6B,mBAAqB,4C,oBCA/HD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,OAAS,sB,oBCA3ED,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,cAAgB,iC,oBCAhHD,EAAOC,QAAU,CAAC,WAAa,iC,oBCA/BD,EAAOC,QAAU,CAAC,QAAU,6B,oBCA5BD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,aAAe,8B,oBCDtED,EAAOC,QAAU,IAA0B,qC,kBCA3CD,EAAOC,QAAU,spI,oBCAjBD,EAAOC,QAAU,IAA0B,+D,wOCa5BC,MARf,WACI,OACI,sCCKOC,ICDHC,EAIAC,EDHGF,EARf,WACI,OACI,uC,gDEJKG,EAAsB,SAACC,EAAUC,EAAcC,EAAiBC,GAC1E,OAAQH,EAAMI,KAAI,SAACC,GAClB,OAAIA,EAAEH,KAAiBD,EACZ,2BAAII,GAAMF,GAEdE,M,SDLEC,E,OAAWC,EAAMC,OAAO,CACjCC,QAAQ,gDACRC,iBAAiB,EACjBC,QAAS,CACL,UAAW,uCACX,eAAgB,wC,SAIZd,O,qBAAAA,I,kBAAAA,M,cAIAC,O,2CAAAA,M,KEAL,IAAMc,EAAW,CAEpBC,SAFoB,WAEkE,IAA7EC,EAA4E,uDAA9D,EAAGC,EAA2D,uDAAhD,GAAGC,EAA6C,uDAA/B,GAAGC,EAA4B,uDAAN,KAE3E,OAAOX,EAASY,IAA0B,qBAAcJ,EAAd,kBAAmCC,EAAnC,iBAAoDC,IAChF,OAATC,EAAc,GAAd,kBAA4BA,KAE5BE,MAAK,SAAAC,GACF,OAAOA,EAASC,SAK5BC,SAboB,SAaXC,GACL,OAAOjB,EAASkB,OAAT,iBAA0BD,IAC5BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEnCI,OAjBoB,SAiBbF,GACH,OAAOjB,EAASoB,KAAT,iBAA4CH,IAC9CJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCtBnCM,EAAe,CACfC,MAAO,GACPb,SAAU,GACVc,gBAAiB,EACjBf,YAAa,EACbgB,YAAY,EACZC,eAAgB,GAChBC,OAAO,CAAChB,KAAK,GACbC,OAAO,OAmEAgB,EAAU,CACjBC,SAAU,SAACC,GAAD,MAAqB,CAACC,KAAM,SAAUD,WAChDE,WAAY,SAACF,GAAD,MAAqB,CAACC,KAAM,WAAYD,WACpDG,WAAY,SAACV,GAAD,MAAkC,CAACQ,KAAM,YAAaR,UAClEW,kBAAmB,SAACV,GAAD,MAA8B,CAC7CO,KAAM,uBACNP,oBAEJW,iBAAkB,SAAC1B,GAAD,MAA0B,CAACsB,KAAM,mBAAoBtB,gBACvE2B,gBAAiB,SAACT,GAAD,MAAwB,CAACI,KAAK,oBAAoBM,QAAQV,IAC3EW,gBAAiB,SAACb,GAAD,MAA0B,CAACM,KAAM,qBAAsBN,eACxEc,4BAA6B,SAACd,EAAqBP,GAAtB,MAAsC,CAC/Da,KAAM,+BACNN,aACAP,QAKFsB,EAAmB,uCAAG,WAAOC,EAAgBC,EAAoBC,EAAwDC,GAAnG,eAAAC,EAAA,6DAExBH,EAASd,EAAQW,6BAA4B,EAAME,IAF3B,SAGHE,EAAUF,GAHP,OAGpB1B,EAHoB,OAIxB+B,QAAQC,IAAIhC,GACgB,IAAxBA,EAASiC,YACTN,EAASE,EAAcH,IAG3BC,EAASd,EAAQW,6BAA4B,EAAOE,IAT5B,2CAAH,4DA6CVQ,EAhIM,WAAoF,IAAnFC,EAAkF,uDAAxD5B,EAAc6B,EAA0C,uCAEpG,OAAQA,EAAOpB,MACX,IAAK,SAED,OAAO,2BACAmB,GADP,IAEI3B,MAAO2B,EAAM3B,MAAMxB,KAAI,SAAAC,GACnB,OAAImD,EAAOrB,SAAW9B,EAAEkB,GACb,2BAAIlB,GAAX,IAAcoD,UAAU,IAErBpD,OAInB,IAAK,WACD,OAAO,2BACAkD,GADP,IAEI3B,MAAO7B,EAAoBwD,EAAM3B,MAAO4B,EAAOrB,OAAQ,KAAM,CAACsB,UAAU,MAIhF,IAAK,YACD,IAAIC,EAAS,eAAOH,GACpB,OAAO,2BAAIG,GAAX,IAAsB9B,MAAO4B,EAAO5B,QAExC,IAAK,uBACD,IAAI8B,EAAS,eAAOH,GACpB,OAAO,2BAAIG,GAAX,IAAsB7B,gBAAiB2B,EAAO3B,kBAGlD,IAAK,mBAED,IAAI6B,EAAS,eAAOH,GACpB,OAAO,2BAAIG,GAAX,IAAsB5C,YAAa0C,EAAO1C,cAG9C,IAAK,qBACD,IAAI4C,EAAS,eAAOH,GACpB,OAAO,2BAAIG,GAAX,IAAsB5B,WAAY0B,EAAO1B,aAE7C,IAAK,oBACJ,OAAO,2BAAIyB,GAAX,IAAiBvB,OAAOwB,EAAOd,UAChC,IAAK,+BAED,IAAIgB,EAAS,eAAOH,GACpB,OAAO,2BACAG,GADP,IACkB3B,eAAgByB,EAAO1B,WAAP,sBACtB4B,EAAU3B,gBADY,CACIyB,EAAOjC,KACrCmC,EAAU3B,eAAeC,QAAO,SAAAT,GAAE,OAAIA,IAAOiC,EAAOjC,QAOhE,QACI,OAAOgC,I,4CCzDNI,EAAwCC,IAAMC,MAAK,YAAoC,IAAlC/C,EAAiC,EAAjCA,YAAYkB,EAAqB,EAArBA,OAAU8B,EAAW,wCAEzFC,EAAUC,cACCC,cA8BjB,OArBAC,qBAAU,WACN,IAAMC,EAASC,QAAkBL,EAAQM,SAASC,OAAOC,OAAO,IAChEpB,QAAQC,IAAKe,GAEbJ,EAAQS,KAAK,CACTC,SAAU,SACVH,OAAO,SAAD,OAAWtC,EAAOhB,KAAlB,mBAAiCgB,EAAOf,OAAxC,iBAAuDH,KAKjE,IACI4D,EAAe1C,EAEdmC,EAAOQ,MAAgBC,OAAOT,EAAOQ,MACrCR,EAAOlD,SAAOyD,EAAY,2BAAOA,GAAP,IAAoBzD,OAAyB,OAAjBkD,EAAOlD,OAAe,KAAqB,SAAhBkD,EAAOlD,UACxFkD,EAAOnD,OAAM0D,EAAY,2BAAOA,GAAP,IAAoB1D,KAAMmD,EAAOnD,UAIhE,CAACgB,IAGA,6BAEK8B,EAAMlC,MAAMxB,KAAI,SAACC,GAAD,OAAY,yBAAKwE,IAAKxE,EAAEkB,IAAI,8BACzC,6BACJ,kBAAC,IAAD,CAASuD,GAAI,YAAczE,EAAEkB,IAE7B,yBACIwD,IAAK1E,EAAE2E,OAAOC,OAAS5E,EAAE2E,OAAOE,MAAQ7E,EAAE2E,OAAOC,OAAS5E,EAAE2E,OAAOE,MAAQ,8GAC3EC,UAAWC,IAAEC,cAGrB,6BACKhF,EAAEoD,SAAW,4BAAQ6B,SAAUxB,EAAM/B,eAAewD,MAAK,SAAAhE,GAAE,OAAIA,IAAOlB,EAAEkB,MAAKiE,QAAS,WAC/E1B,EAAM2B,SAASpF,EAAEkB,MADX,YAGV,kBAAC,IAAD,CAAQa,KAAM,UAAWkD,SAAUxB,EAAM/B,eAAewD,MAAK,SAAAhE,GAAE,OAAIA,GAAMlB,EAAEkB,MAAKiE,QAAS,WACrF1B,EAAMrC,OAAOpB,EAAEkB,MADnB,YAMA,8BACH,8BACI,6BAAMlB,EAAEqF,MACR,6BAAM,YAEV,8BACI,6BAAM,OACN,6BAAM5B,EAAMjC,2B,oCCjFlB8D,EAAY,WAEnB,OACI,yBAAKR,UAAWS,IAAGC,SACnB,yBAAKV,UAAWS,IAAGE,QAASf,IAAKgB,Q,yBCE5BC,EAAYpC,IAAMC,MAAK,SAACC,GAOjC,IANA,IAAImC,EAAaC,KAAKC,KAAKrC,EAAMsC,gBAAkBtC,EAAM/C,UACrDsF,EAAQ,GAF6C,GAGtCH,KAAKC,KAAKF,EAAWnC,EAAMwC,aACTC,mBAAiB,IAJG,mBAIpDC,EAJoD,KAItCC,EAJsC,KAKrDC,GAAyBF,EAAgB,GAAI1C,EAAMwC,YAAc,EACjEK,EAAyBH,EAAc1C,EAAMwC,YACxCM,EAAI,EAAGA,GAAKX,EAAYW,IAC7BP,EAAM7B,KAAKoC,GAR0C,MAUlCL,oBAAS,GAVyB,mBAUpDM,EAVoD,KAU9CC,EAV8C,KAWrDC,EAAqB,WACrBD,GAAU,IAEVE,EAAe,WACfF,GAAU,IAEd,OACI,yBAAK3B,UAAW8B,IAAMpB,SAElB,yBAAKV,UAAW8B,IAAMC,OAAQC,YAAaJ,EAAoBC,aAAcA,GAAeR,EAAgB,GAAKK,GAAS,KAAOL,EAAgB,GAAK,0BAAMhB,QAAS,kBAAIiB,EAAiBD,EAAgB,KAApD,SACtJ,yBAAKrB,UAAW8B,IAAMG,aACjBf,EAAMrE,QAAO,SAAAqF,GAAC,OAAIA,GAAKX,GAAyBW,GAAKV,KACzDvG,KAAI,SAAAiH,GAAC,OACF,0BAAMxC,IAAKwC,EAAG7B,QAAS,WACvB1B,EAAMwD,eAAeD,IACtBlC,UAAWrB,EAAMhD,cAAgBuG,EAAIJ,IAAMM,aAAe,IAAI,yBAAMpC,UAAW8B,IAAMO,YAAaH,QAErG,yBAAKlC,UAAW8B,IAAMC,OAAQC,YAAaJ,EAAoBC,aAAcA,GAAc,0BAAMxB,QAAS,kBAAIiB,EAAiBD,EAAgB,KAApD,SAAqEK,GAAS,U,QCyBtKY,EApDyC,SAAC3D,GA0BrD,OAAQ,6BACJ,6BACI,mDACA,kBAAC,IAAD,CACI4D,cAAe,CAAC1G,KAAM,GAAGC,OAAO,QAEhC0G,SAnBK,SAACC,EAAD,GAAiG,IAApEC,EAAmE,EAAnEA,cACpC7F,EAAS,CACXhB,KAAK4G,EAAO5G,KACZC,OAAuB,SAAhB2G,EAAO3G,OAAgB,KAAqB,SAAhB2G,EAAO3G,QAE9C6G,YAAW,WACPhE,EAAMiE,gBAAgB/F,GAGtB6F,GAAc,KACf,QAWM,gBAAGG,EAAH,EAAGA,aAAH,OACG,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO5F,KAAK,OAAOsD,KAAK,SACxB,kBAAC,IAAD,CAAOA,KAAK,SAASuC,GAAG,UACpB,4BAAQC,MAAM,QAAd,OACA,4BAAQA,MAAM,QAAd,YACA,4BAAQA,MAAM,SAAd,eAEJ,kBAAC,IAAD,CAAcxC,KAAK,OAAOyC,UAAU,QACpC,4BAAQ/F,KAAK,SAASkD,SAAU0C,GAAhC,iBCiBTI,E,4MAzCXd,eAAiB,SAACD,GACb,EAAKvD,MAAMtB,iBAAiB6E,GAC5B,EAAKvD,MAAMuE,WAAWhB,EAAE,EAAKvD,MAAM/C,SAAS,EAAK+C,MAAM9B,S,EAE5D+F,gBAAkB,SAAC/F,GACf,EAAK8B,MAAMuE,WAAW,EAAE,EAAKvE,MAAM/C,SAASiB,I,kEAP5CsG,KAAKxE,MAAMuE,WAAWC,KAAKxE,MAAMhD,YAAYwH,KAAKxE,MAAM/C,SAASuH,KAAKxE,MAAM9B,U,+BAY5E,OAAO,oCACP,6BACI,kBAAC,EAAD,CAAiB+F,gBAAiBO,KAAKP,mBAEvC,kBAAC/B,EAAD,CAAWlF,YAAawH,KAAKxE,MAAMhD,YACxBsF,gBAAiBkC,KAAKxE,MAAMjC,gBAC5ByF,eAAgBgB,KAAKhB,eACrBvG,SAAUuH,KAAKxE,MAAM/C,SACrBuF,YAAa,KAGvBgC,KAAKxE,MAAMhC,WAAY,kBAAC,EAAD,MACpB,kBAAC6B,EAAD,CACA/B,MAAO0G,KAAKxE,MAAMlC,MAClBC,gBAAiByG,KAAKxE,MAAMjC,gBAC5BE,eAAgBuG,KAAKxE,MAAM/B,eAC3B0D,SAAU6C,KAAKxE,MAAMyE,WACrB9G,OAAQ6G,KAAKxE,MAAM0E,SACnBxG,OAAQsG,KAAKxE,MAAM9B,OACnBlB,YAAawH,KAAKxE,MAAMhD,YACxBC,SAAUuH,KAAKxE,MAAM/C,gB,GArCP6C,IAAM6E,W,SCpBvBC,EAAe,SAACnF,GACzB,OAAOA,EAAMoF,UAAU/G,OAKdgH,GAFmBC,YAAe,CAACH,IAAc,SAAC9G,GAAD,OAASA,EAAMkH,UAElD,SAACvF,GACxB,OAAOA,EAAMoF,UAAU5H,WAEdgI,EAAqB,SAACxF,GAC/B,OAAOA,EAAMoF,UAAU9G,iBAEdmH,EAAiB,SAACzF,GAC3B,OAAOA,EAAMoF,UAAU7H,aAEdmI,GAAgB,SAAC1F,GAC1B,OAAOA,EAAMoF,UAAU7G,YAEdoH,GAAoB,SAAC3F,GAC9B,OAAOA,EAAMoF,UAAU5G,gBAEdoH,GAAY,SAAC5F,GACtB,OAAOA,EAAMoF,UAAU3G,QCOZoH,GAFQC,aAdD,SAAC9F,GACnB,MAAO,CACH3B,MAAO8G,EAAanF,GACpBxC,SAAU6H,EAAYrF,GACtB1B,gBAAiBkH,EAAmBxF,GACpCzC,YAAakI,EAAezF,GAC5BzB,WAAYmH,GAAc1F,GAC1BxB,eAAgBmH,GAAkB3F,GAClCvB,OAAOmH,GAAU5F,MAMuB,CAACf,iBAAiBP,EAAQO,iBAAiB+F,WPqGjE,SAACzF,GACvB,8CAAO,WAAOC,GAAP,eAAAG,EAAA,6DACCF,EAAYpC,EAASU,SAASgI,KAAKxG,GADpC,SAEGD,EAAoBC,EAAQC,EAAUC,EAAWf,EAAQI,YAF5D,2CAAP,uDOtGmGgG,WPwF7E,SAACvH,GAA6E,IAAxDC,EAAuD,uDAApC,GAAGiB,EAAiC,uCAEnG,8CAAO,WAAOe,GAAP,eAAAG,EAAA,6DACHH,EAASd,EAAQU,iBAAgB,IAD9B,SAEc/B,EAASC,SAASC,EAAaC,EAASiB,EAAOhB,KAAKgB,EAAOf,QAFzE,OAECI,EAFD,OAGH0B,EAASd,EAAQK,WAAWjB,EAAKrB,QACjC+C,EAASd,EAAQU,iBAAgB,IACjCI,EAASd,EAAQM,kBAAkBlB,EAAKkI,aACxCxG,EAASd,EAAQQ,gBAAgBT,IAN9B,2CAAP,uDO1F+GwG,SP2G3F,SAAC1F,GACrB,8CAAO,WAAOC,GAAP,iBAAAG,EAAA,6DACCF,EAAYpC,EAASa,OAAO6H,KAAKxG,GACjCU,EAASvB,EAAQC,SAFlB,SAIGW,EAAoBC,EAAQC,EAAUC,EAAWQ,GAJpD,2CAAP,wDO5GmB6F,CACrBjB,G,mDC3BWoB,GAAa,SAER1G,GACV,OAAOxC,EAASY,IAAqB,WAAa4B,GAC7C3B,MAAK,SAAAC,GACF,OAAOA,EAASC,SALnBmI,GAAa,SAQZ1G,GACN,OAAOxC,EAASY,IAAI,kBAAoB4B,GACnC3B,MAAK,SAAAC,GACF,OAAOA,EAASC,SAXnBmI,GAAa,SAcZC,GACN,OAAOnJ,EAASoJ,IAAT,kBAAiD,CAACC,OAAQF,IAC5DtI,MAAK,SAAAC,GACF,OAAOA,EAASC,SAjBnBmI,GAAa,SAoBZI,GACN,IAAIC,EAAW,IAAIC,SAGnB,OAFAD,EAASE,OAAO,QAASH,GAElBtJ,EAASoJ,IAAT,kBAA6DG,EAAU,CAC1ElJ,QAAS,CACL,eAAgB,yBAGnBQ,MAAK,SAAAC,GACF,OAAOA,EAASC,SA9BnBmI,GAAa,SAkCA5B,GAClB,OAAOtH,EAASoJ,IAAT,WAA0C9B,GAC5CzG,MAAK,SAAAC,GACF,OAAOA,EAASC,SC7B5BM,GAAe,CACfqI,kBAAmB,KAEnBC,YAAa,KAEbC,UAAW,CACP,CAAC3I,GAAI4I,eAAMC,QAAS,eAAgBC,MAAO,IAC3C,CAAC9I,GAAI4I,eAAMC,QAAS,oBAAqBC,MAAO,GAChD,CAAC9I,GAAI4I,eAAMC,QAAS,eAAgBC,MAAO,IAC3C,CAAC9I,GAAI4I,eAAMC,QAAS,eAAgBC,MAAO,IAC3C,CAAC9I,GAAI4I,eAAMC,QAAS,oBAAqBC,MAAO,OAmC7CpI,GAAU,CAEhBqI,wBAAyB,SAACC,GAAD,MAAsB,CAACnI,KAAM,0BAA2BmI,YAEjFC,oBAAqB,SAACjJ,GAAD,MAAiB,CAACa,KAAM,0BAA2Bb,OAExEkJ,eAAgB,SAACR,GAAD,MAAmC,CAChD7H,KAAM,kCACN6H,gBAGJS,qBAAsB,SAACC,GAAD,MAAgC,CAClDvI,KAAM,iCACNuI,eAGJC,iBAAkB,SAAC5F,GAAD,MAAyB,CAAC5C,KAAM,kCAAmC4C,YAG5E6F,GAAmB,SAAC/H,GAC7B,8CAAO,WAAOC,GAAP,eAAAG,EAAA,sEACmBsG,GAAyB1G,GAD5C,OACC1B,EADD,OAEH2B,EAASd,GAAQwI,eAAerJ,IAF7B,2CAAP,uDAQS0J,GAAkB,SAACrB,GAC5B,8CAAO,WAAO1G,GAAP,SAAAG,EAAA,sEACOsG,GAAqBC,GAD5B,2CAAP,uDAYSsB,GAAe,SAACnB,GACzB,8CAAO,WAAO7G,GAAP,eAAAG,EAAA,sEACcsG,GAAqBI,GADnC,OAEoB,KADnBvI,EADD,QAEKgC,YACJN,EAASd,GAAQ2I,iBAAiBvJ,EAAKA,OAHxC,2CAAP,uDAkBW2J,GA1FQ,WAAmF,IAAlFzH,EAAiF,uDAAvD5B,GAAc6B,EAAyC,uCAErG,OAAQA,EAAOpB,MACX,IAAK,0BACD,OAAO,2BAAImB,GAAX,IAAkB2G,UAAU,CAAG,CAAC3I,GAAI4I,eAAMC,QAAS5G,EAAO+G,QAASF,MAAO,IAA/C,mBAAqD9G,EAAM2G,cAC1F,IAAK,0BACD,OAAO,2BAAI3G,GAAX,IAAiB2G,UAAU,YAAK3G,EAAM2G,UAAU9J,KAAI,SAAA6K,GAAE,OAAEA,EAAG1J,KAAOiC,EAAOjC,GAAjB,2BAA0B0J,GAA1B,IAA6BZ,MAAMY,EAAGZ,MAAM,IAA5C,eAAqDY,SAUjH,IAAK,kCACD,OAAO,2BAAI1H,GAAX,IAAkB0G,YAAYzG,EAAOyG,cACzC,IAAK,iCACD,OAAO,2BAAI1G,GAAX,IAAiByG,kBAAkBxG,EAAOmH,aAE9C,IAAK,kCAEE,OAAO,2BAAMpH,GAAb,IAAmB0G,YAAY,2BAAI1G,EAAM0G,aAAX,IAAuBjF,OAAOxB,EAAOwB,WAE1E,QACI,OAAOzB,ICMJ2H,GAtDW,WACtB,IAAIC,EAAmBC,aAAoC,SAAA7H,GAAK,OAAIA,EAAM8H,YAAYrB,qBAChFjH,EAAWkB,cAFW,EAINsC,oBAAkB,GAJZ,mBAIvB+E,EAJuB,KAIjBC,EAJiB,OAMFhF,mBAAiB4E,GAAkC,mFANjD,mBAMvBxB,EANuB,KAMf6B,EANe,KAqC5B,OACI,oCACI,6BACA,0BAAMC,cA5BU,WACpBF,GAAQ,KA4BED,EACE,2BAAQI,WAAS,EACVxD,MAAOyB,EACPgC,SA5BC,SAACC,GACrB,IAAIC,EAAqBD,EAAME,cAAc5D,MACzCsD,EAAUK,IA2BKE,OAxBD,WAClBR,GAAQ,GACRxI,EAASd,GAAQyI,qBAAqBf,IACtCwB,GAAqBpI,EAAS+H,GAAgBnB,KAsB1BqC,WAnBE,SAACJ,GACD,KAAnBA,EAAMK,WACLV,GAAQ,GACRxI,EAASd,GAAQyI,qBAAqBf,IACtCwB,GAAoBpI,EAAS+H,GAAgBnB,QAUhCwB,M,0CCEVe,GAlCO,SAACpI,GAEnB,IAAImG,EAAcmB,aAA8C,SAAA7H,GAAK,OAAIA,EAAM8H,YAAYpB,eACvFlH,EAAWkB,cAkBf,OACI,yBAAKkB,UAAW8B,KAAMpB,SAElB,yBAAKV,UAAW8B,KAAMkF,YAlBG,QAAnB,OAAXlC,QAAW,IAAXA,OAAA,EAAAA,EAAajF,OAAOC,OACZ,yBAAKF,IAAKqH,OAEX,yBAAKrH,IAAG,OAAEkF,QAAF,IAAEA,OAAF,EAAEA,EAAajF,OAAOC,SAkBhC,yBAAKE,UAAW8B,KAAMoF,kBACjBvI,EAAMwI,SAAW,2BAAOlK,KAAM,OAAQuJ,SAf5B,SAACC,GAGjB,IAAIW,EAASX,EAAMY,OAAOC,MAAM,GACpC1J,EAASgI,GAAawB,U,sEC8JdG,GA7JS,SAAC5I,GAErB,IAAMf,EAAWkB,cAEX0I,EAASC,YAAU,CASrBlF,cAAe,CACXmF,SAAU/I,EAAMmG,YAAY4C,SAC5BC,QAAShJ,EAAMmG,YAAY6C,QAC3BC,gBAAgB,EAChBC,0BAA2BlJ,EAAMmG,YAAY+C,0BAC7CC,SAAS,CACLC,SAASpJ,EAAMmG,YAAYgD,SAASC,SACpCC,OAAQrJ,EAAMmG,YAAYgD,SAASE,OACnCC,UAAWtJ,EAAMmG,YAAYgD,SAASG,UACtCC,SAAUvJ,EAAMmG,YAAYgD,SAASI,SACrCC,QAASxJ,EAAMmG,YAAYgD,SAASK,QACpCC,GAAIzJ,EAAMmG,YAAYgD,SAASM,GAC/BC,QAAS1J,EAAMmG,YAAYgD,SAASO,QACpCC,QAAS3J,EAAMmG,YAAYgD,SAASQ,UAI5C9F,SAAU,SAACC,EAAD,GAA0B,IAAhB8F,EAAe,EAAfA,UAChBvK,QAAQC,IAAIwE,GACX7E,EH2C6B,SAAC6E,EAAiC9E,GACxE,8CAAO,WAAOC,GAAP,SAAAG,EAAA,sEACcsG,GAAiC5B,GAD/C,OAEwB,IAFxB,OAESvE,YACRN,EAAS8H,GAAiB/H,IAH3B,2CAAP,sDG5CkB6K,CAA2B/F,EAAO9D,EAAMmG,YAAYnH,SAC/DgF,YAAW,kBAAIhE,EAAM8J,aAAY,KAAO,KAIvCF,EAAU,CACN9F,OAAQ,CACJiF,SAAU,GAAIC,QAAS,GAAIC,gBAAgB,EAAOC,0BAA2B,GAC7EC,SAAS,CACLC,SAAS,GACTC,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,QAAS,GACTC,GAAI,GACJC,QAAS,GACTC,QAAS,OAIrB7F,EAAS,CACLiF,SAAU,GACVC,QAAS,GACTC,gBAAgB,EAChBC,0BAA2B,GAC3BC,SAAS,CACLC,SAAS,GACTC,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,QAAS,GACTC,GAAI,GACJC,QAAS,GACTC,QAAS,QAiBzB,OACI,0BAAM9F,SAAUgF,EAAOkB,cAEnB,yBAAK1I,UAAW8B,KAAM6G,2BAElB,yBAAK3I,UAAW8B,KAAM8G,kCAClB,4BAAQ3L,KAAM,UAAd,SAIJ,yBAAK+C,UAAW8B,KAAM+G,iBAClB,kBAACC,GAAA,EAAD,KACI,6BAEI,kBAACC,GAAA,EAAD,KACI,mDAHR,IAIiB,kBAACC,GAAA,EAAD,eACKC,KAAK,SACLhM,KAAK,WACLiM,MAAM,YACpB1B,EAAO2B,cAAc,eAI7B,6BACI,kBAACJ,GAAA,EAAD,KACI,sEAEJ,kBAACC,GAAA,EAAD,eACIC,KAAK,SACLhM,KAAK,UACLiM,MAAM,WACN1B,EAAO2B,cAAc,cAI7B,6BACI,kBAACJ,GAAA,EAAD,KACI,wFAEJ,kBAACC,GAAA,EAAD,eACIC,KAAK,SACLhM,KAAM,YACNiM,MAAM,6BACF1B,EAAO2B,cAAc,gCAGjC,6BACI,kBAACC,GAAA,EAAD,CACIF,MAAO,iBACPG,QAAS,kBAACC,GAAA,EACF9B,EAAO2B,cAAc,wBAM7C,yBAAKnJ,UAAW8B,KAAMyH,cAClB,wCAAiBC,OAAOC,KAAK9K,EAAMmG,YAAYgD,UAAU7M,KAAI,SAAAyE,GAG7D,OAAO,8BAAO,yBAAKA,IAAKA,EAAKM,UAAW8B,KAAM4H,cAC1C,2BAAIhK,EAAJ,IAAU,kBAACsJ,GAAA,EAAexB,EAAO2B,cAAP,mBAAiCzJ,eCrI7EiK,GAAc,SAAChL,GAEjB,IAAMiL,EAAW,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,aAC7B,OACI,iCAAOD,EAAP,IAAsBC,IAI9B,OAAO,yBAAK9J,UAAW+J,KAAEpB,2BACrB,yBAAK3I,UAAW+J,KAAEnB,kCACjBjK,EAAMwI,SAAW,4BAAQ9G,QAAS1B,EAAMqL,cAAvB,QAClB,6BACI,kBAAC,GAAD,OAEJ,6BACI,kBAAC,GAAD,CAAc7C,QAASxI,EAAMwI,YAKjC,yBAAKnH,UAAW+J,KAAElB,iBACd,6BACA,iDADA,KACalK,EAAMmG,YAAY4C,UAEnC,6BACI,oEADJ,KACqB/I,EAAMmG,YAAY6C,SAEvC,6BACI,iDAA0BhJ,EAAMmG,YAAY8C,eAAiB,MAAQ,MAEzE,6BACI,sDAA+BjJ,EAAMmG,YAAY+C,4BAGrD,yBAAK7H,UAAW+J,KAAER,cACd,wCAAiBC,OAAOC,KAAK9K,EAAMmG,YAAYgD,UAAU7M,KAAI,SAAA6K,GAI7D,OAAO,kBAAC8D,EAAD,CAAUlK,IAAKoG,EAAI+D,aAAc/D,EAAIgE,aAAcnL,EAAMmG,YAAYgD,SAAShC,WAWlFmE,GA9EG,SAACtL,GAA4B,IAAD,EACZyC,oBAAkB,GADN,mBACrC8I,EADqC,KAC3BzB,EAD2B,KAK1C,IAAK9J,EAAMmG,YACP,OAAO,kBAAC,EAAD,MAQX,OACI,yBAAK9E,UAAW+J,KAAEI,aACbD,EAAW,kBAAC,GAAD,CAAiBpF,YAAanG,EAAMmG,YACnBqC,QAASxI,EAAMwI,QACfsB,YAAaA,IAE7B,kBAAC,GAAD,CAAa3D,YAAanG,EAAMmG,YACnBqC,QAASxI,EAAMwI,QACf6C,aAbb,WACjBvB,GAAY,Q,yCCKL2B,OAff,SAAczL,GAKV,OACI,yBAAKqB,UAAWqK,KAAEC,MACd,yBAAKtK,UAAWqK,KAAEE,aACnB,yBAAKvK,UAAWqK,KAAEG,SAAS,yBAAK5K,IAAI,4EAApC,KACC,yBAAKI,UAAWqK,KAAEpF,SAAWtG,EAAMsG,SACnC,yBAAKjF,UAAWqK,KAAEI,MAAOpK,QARrB,WACR1B,EAAM+L,OAAO/L,EAAMvC,MAOyB,yBAAK4D,UAAWqK,KAAEM,aAAchM,EAAMuG,OAAY,6BAAK,kBAAC,KAAD,WCO5F0F,OAdf,SAAuBjM,GAKnB,OAAQ,yBAAKqB,UAAWqK,KAAEC,MACtB,kBAAC,GAAD,CAAarF,QAAStG,EAAMsG,QACfC,MAAOvG,EAAMuG,MACb9I,GAAIuC,EAAMvC,GACTsO,OAPJ,SAACtO,GACXuC,EAAMkM,sBAAsBzO,Q,oBClBvB0O,GAAgB,SAAC/H,GAC1B,OAAGA,OACC,EAEO,qBAIFgI,GAAmB,SAACC,GAAD,OAAsB,SAACjI,GACnD,OAAGA,EAAMY,OAASqH,EACR,iBAAN,OAAwBA,EAAxB,iBAEA,I,qBCNKC,GAAc,SAAC,GAAgD,EAA/CC,MAAgD,IAA1CC,EAAyC,EAAzCA,KAAKC,EAAoC,EAApCA,SAC9BC,GADkE,2CACvDF,EAAKG,SAAWH,EAAKI,OACtC,OACI,yBAAKvL,UAAWwL,KAAUC,aAAe,KAAOJ,EAAUG,KAAUD,MAAM,KACtE,6BACKH,GAEL,6BACKC,GAAY,8BAAOF,EAAKI,UAM5BG,GAAW,SAAC/M,GAAc,IAC7BuM,EAAiCvM,EAAjCuM,MAAoBS,GAAahN,EAA3BwM,KAA2BxM,EAAtBiN,MADiB,YACKjN,EADL,2BAElC,OACI,kBAAC,GAAgBA,EAAQ,8CAAcuM,EAAWS,IAAlD,MAIKE,GAAQ,SAAClN,GAAc,IACzBuM,EAAiCvM,EAAjCuM,MAAoBS,GAAahN,EAA3BwM,KAA2BxM,EAAtBiN,MADa,YACSjN,EADT,2BAE/B,OAEI,kBAAC,GAAgBA,EAAQ,2CAAWuM,EAAWS,IAA/C,MCrBFG,GAAcf,GAAiB,IAgBxBgB,GAAkBC,aAA8C,CAACC,KAAM,QAArDD,EAbzB,SAAC,GAA2B,IAA1BtD,EAAyB,EAAzBA,aAAyB,EAAX6C,MAElB,OAEI,0BAAM/I,SAAUkG,GAER,kBAACwD,GAAA,EAAD,CAAS3L,KAAM,cACNyC,UAAW0I,GACXS,YAAa,WACtBC,SAAU,CAACtB,GAAcgB,MAC7B,2CCeGO,GAvBD,SAAC1N,GAEX,IAAI2N,EAAc3N,EAAMoG,UAExB9J,KAAI,SAAAiH,GAAC,OAAI,kBAAC,GAAD,CAAexC,IAAKwC,EAAE9F,GAAI6I,QAAS/C,EAAE+C,QAAUC,MAAOhD,EAAEgD,MAAQ9I,GAAI8F,EAAE9F,GAAIyO,sBAAuBlM,EAAMkM,2BAOhH,OAEI,yBAAK7K,UAAWqK,KAAEkC,WACd,wCACA,6BACI,kBAACR,GAAD,CAAiBvJ,SAVZ,SAACC,GACd9D,EAAM6N,aAAa/J,EAAOgK,iBAWrBH,ICPEI,GAFUxI,aAjBH,SAAC9F,GACvB,MAAO,CACF2G,UAAW3G,EAAM8H,YAAYnB,cAIP,SAACnH,GACxB,MAAO,CACH4O,aAAc,SAACpH,GACXxH,EAASd,GAAQqI,wBAAwBC,KAE7CyF,sBAAuB,SAACzO,GACpBwB,EAASd,GAAQuI,oBAAoBjJ,QAKxB8H,CAA8CmI,I,qBCaxDM,OAvBf,SAAiBhO,GAEb,OACI,6BACI,yBAAKqB,UAAW4M,KAAElM,SAEd,yBAAKV,UAAW4M,KAAE3C,aACd,yBAAKjK,UAAW4M,KAAEC,eAAe,kBAAC,GAAD,CAAa/H,YAAanG,EAAMmG,YACnBN,OAAQ7F,EAAM6F,OACd2C,QAASxI,EAAMwI,QACf2F,WAAYnO,EAAMmO,cAIhE,yBAAKlN,IAAKmN,QAEd,kBAAC,GAAD,SCzBHC,GAAmB,SAAC1J,GAAmB,IAE7C2J,EAF4C,uKAK1C,OAAI9J,KAAKxE,MAAMuO,OAEJ,kBAAC5J,EAAcH,KAAKxE,OADpB,kBAAC,IAAD,CAAUgB,GAAI,eANiB,GAElBlB,IAAM6E,WAgBtC,OAJoCY,aAHA,SAAC9F,GAAD,MAAqB,CAClD8O,OAAO9O,EAAM+O,KAAKjR,KAAKgR,UAEMhJ,CAAoC+I,I,SClB5DnI,GAAc,SAAC1G,GACpB,OAAOA,EAAM8H,YAAYpB,aAEpBN,GAAS,SAACpG,GACnB,OAAOA,EAAM8H,YAAYrB,mBAEhBuI,GAAgB,SAAChP,GAC1B,OAAOA,EAAM+O,KAAKjR,KAAKE,ICqBrBiR,G,+KAEE,IAAI1P,EAASwF,KAAKxE,MAAM2O,MAAMC,OAAO5P,OAChCA,IACDA,EAASwF,KAAKxE,MAAMyO,eAMpBzP,GAGAwF,KAAKxE,MAAM+G,iBAAiB/H,GAC5BwF,KAAKxE,MAAM6O,gBAAgB7P,IAH3BK,QAAQC,IAAI,+C,0CAWhBkF,KAAKsK,mB,yCAGMC,EAA2CC,EAAyBC,GAEhFzK,KAAKxE,MAAM2O,MAAMC,OAAO5P,QAAU+P,EAAUJ,MAAMC,OAAO5P,QAC5DwF,KAAKsK,mB,+BAMD,OACI,6BACI,kBAAC,GAAD,iBAAatK,KAAKxE,MAAlB,CACSmG,YAAa3B,KAAKxE,MAAMmG,YACxBN,OAAQrB,KAAKxE,MAAM6F,OACnB2C,SAAUhE,KAAKxE,MAAM2O,MAAMC,OAAO5P,OAClCmP,WAAY3J,KAAKxE,MAAMmO,mB,GAxCjBrO,IAAM6E,WAyDtBuK,gBAAQ3J,aATD,SAAC9F,GAAD,MAAuB,CACzC0G,YAAaA,GAAY1G,GACzBoG,OAAQA,GAAOpG,GACfgP,cAAeA,GAAchP,MAMe,CAACkH,eAAexI,GAAQwI,eAAgBC,qBAAqBzI,GAAQyI,qBAAsBiI,gBfE5G,SAAC7P,GAC5B,8CAAO,WAAOC,GAAP,eAAAG,EAAA,sEACgBsG,GAAqB1G,GADrC,OACD1B,EADC,OAEH2B,EAASd,GAAQyI,qBAAqBtJ,IAFnC,2CAAP,uDeHuJ2J,gBAAaF,sBAClKsH,GACAc,IAFSD,CAIdR,I,oBC/DcU,OAhBf,SAAoBpP,GAEhB,OAEI,yBAAKqB,UAAWC,KAAE+N,QAEd,kBAAE,IAAF,CAAUhO,UAAWC,KAAEgO,KAAMtO,GAAG,SAAShB,EAAM4B,MAC/C,yBAAKP,UAAWC,KAAEmH,OAAQxH,IAAKjB,EAAMuP,QCoBlCC,IC1CHzT,GAMAC,GDoCGwT,GA3Bf,SAAiBxP,GACb,GAAiB,GAAdA,EAAMwO,KACN,OAAO,kBAAC,IAAD,CAAUxN,GAAI,WAKxB,IAAIyO,EAAkBzP,EAAM0P,YAAYpT,KAAI,SAAAqT,GAAC,OAAI,kBAAC,GAAD,CAAc5O,IAAM4O,EAAElS,GAAIA,GAAIkS,EAAElS,GAAI8R,IAAKI,EAAEJ,IAAK3N,KAAM+N,EAAE/N,UAEjG,OAEA,yBAAKP,UAAWC,KAAEsO,SAClB,yBAAKvO,UAAWC,KAAEuO,cACjBJ,GAID,yBAAKpO,UAAWC,KAAEwO,aEAfZ,gBAAQ3J,aAVD,SAAC9F,GACnB,MAAO,CACHiQ,YAAYjQ,EAAMsQ,YAAYL,YAC9BM,aAAavQ,EAAMsQ,YAAYC,gBAQW,IAAK3B,GADxCa,CAEyCM,I,oBDlC5CzT,O,qBAAAA,I,kBAAAA,Q,cAMAC,O,2CAAAA,Q,KEOL,IAAMiU,GAAU,WAGf,OAAOzT,EAASY,IAAT,WACFC,MAAK,SAACC,GACH,OAAOA,EAASC,QAEnB2S,OAAM,WACHC,MAAM,oBARTF,GAAU,SAWbG,EAAaC,EAAgBC,GAAiD,IAA9BC,EAA6B,uDAAP,KACxE,OAAO/T,EAASoB,KAAT,aAA0G,CAACwS,QAAMC,WAASC,aAAWC,YACvIlT,MAAK,SAAAC,GACF,OAAOA,MCzBVkT,GAAc,WAGnB,OADgBhU,EAASY,IAAT,8BCWpBS,GAAe,CACfN,KAAK,CACDE,GAAI,KACJ2S,MAAO,KACPK,MAAO,KACPlC,QAAQ,EACRmC,WAAW,OAoBfvS,GACmB,SAACV,EAAmB2S,EAAsBK,EAAsBlC,GAAhE,MACd,CAACjQ,KAAM,iCAAkCf,KAAM,CAACE,KAAI2S,QAAOK,QAAOlC,YAFvEpQ,GAGiB,SAACuS,GAAD,MAAyB,CACtCpS,KAAM,sCAAuCoS,eAKxCC,GAAc,WACvB,8CAAO,WAAO1R,GAAP,eAAAG,EAAA,sEACsB6Q,KADtB,QACK3S,EADL,QAEUiC,aAAexD,GAAgB6U,SACxC3R,EAASd,GAA0Bb,EAASC,KAAKE,GAAIH,EAASC,KAAK6S,MAAO9S,EAASC,KAAKkT,OAAO,IAHhG,2CAAP,uDA2BSI,GAAkB,WAC3B,8CAAO,WAAO5R,GAAP,iBAAAG,EAAA,sEACoBoR,KADpB,OACGlT,EADH,OAEGwT,EAAaxT,EAASC,KAAKwT,IACjC9R,EAASd,GAAwB2S,IAH9B,2CAAP,uDAMWE,GAzDK,WAAmF,IAAlFvR,EAAiF,uDAAvD5B,GAAc6B,EAAyC,uCAElG,OAAQA,EAAOpB,MACX,IAAK,iCACD,OAAO,2BAAImB,GAAX,IAAkBlC,KAAKmC,EAAOnC,OAClC,IAAK,sCACD,OAAO,2BAAIkC,GAAX,IAAiBlC,KAAK,2BAAIkC,EAAMlC,MAAX,IAAgBmT,WAAWhR,EAAOgR,eACzD,QACE,OAAOjR,ICVbwR,GAAc7E,GAAiB,IAqD/B8E,GAAiB7D,aAEtB,CAACC,KAAM,QAAQ6D,gBAPI,SAACC,EAAWnS,GAC5BA,EAASoS,aAAM,YAIIhE,EAlDjB,SAAC,GAAuC,IAAtCtD,EAAqC,EAArCA,aAAc6C,EAAuB,EAAvBA,MAAO8D,EAAgB,EAAhBA,WAEzB,OACI,0BAAM7M,SAAUkG,GACZ,6BACI,kBAACwD,GAAA,EAAD,CAAQ3L,KAAM,QACPyC,UAAW6I,GACXM,YAAa,QACpBC,SAAU,CAACtB,GAAc8E,OAG7B,6BACI,kBAAC1D,GAAA,EAAD,CAAOC,YAAa,WACb5L,KAAM,WACNyC,UAAW6I,GACXO,SAAU,CAACtB,GAAc8E,OAEpC,6BACI,kBAAC1D,GAAA,EAAD,CAASlJ,UAAW,QACX/F,KAAM,WACNkP,YAAa,WACb5L,KAAM,eAJnB,eAQA,yBAAKP,UAAWwL,KAAUyE,oBACrBZ,GAAc,yBAAMzP,IAAMyP,IAE1BA,GAAc,kBAACnD,GAAA,EAAD,CAAOC,YAAa,UACb5L,KAAM,UACNyC,UAAW6I,GACXO,SAAU,CAACtB,MAGpCS,EAAO,8BAAOA,GAAe,MAG9B,6BACI,+CA4CDrH,gBANO,SAAC9F,GAAD,MAAyC,CAC3D8O,OAAO9O,EAAM+O,KAAKjR,KAAKgR,OACvBmC,WAAYjR,EAAM+O,KAAKjR,KAAKmT,cAIO,GAAxBnL,EA1B8B,SAACvF,GAC1C,IAAIf,EAAWkB,cACf,GAAGH,EAAMuO,OACL,OAAO,kBAAC,IAAD,CAAUvN,GAAI,aASzB,OACI,6BACI,qCACA,kBAACkQ,GAAD,CAAgBrN,SATP,SAACkC,GDhCC,IAACqK,EAAaC,EAAgBC,EAAmBC,ECiChEtR,GDjCgBmR,ECiCCrK,EAASqK,MDjCGC,ECiCGtK,EAASsK,SDjCIC,ECiCKvK,EAASuK,WDjCKC,ECiCMxK,EAASwK,QDhCpF,uCAAO,WAAOtR,GAAP,eAAAG,EAAA,sEACkB6Q,GAAcG,EAAMC,EAASC,EAAWC,GAD1D,OAEiC,KADhCjT,EADD,QAEaC,KAAKgC,WACRN,EAAS0R,MACHrT,EAASC,KAAKgC,aAAevD,GAAqBuV,mBACzDtS,EAAS4R,MALlB,2CAAP,yDCwC6CH,WAAY1Q,EAAM0Q,iBChG9D7S,GAAe,CACb2T,aAAY,EACZ5E,MAAM,IAuBRzO,GACqB,iBAAO,CAACG,KAAM,mCADnCH,GAEc,SAACyO,GAAD,MAAoB,CAACtO,KAAM,2BAA4BsO,UAe1D6E,GA/BI,WAAmF,IAAlFhS,EAAiF,uDAAvD5B,GAAc6B,EAAyC,uCACjG,OAAQA,EAAOpB,MAEX,IAAK,iCACD,OAAO,2BAAImB,GAAX,IAAiB+R,aAAY,IACjC,IAAK,2BACD,OAAO,2BAAI/R,GAAX,IAAiBmN,MAAMlN,EAAOkN,QAEhC,QACE,OAAOnN,I,iFCtBfiS,GAAa,CACb,oBAAoB,GACpB,iBAAiB,IAOjBC,GAAoB,KAIXC,GAAe,WACxBC,GAA6B,WAC7B7N,WAAW8N,GAAc,MAEhBC,GAAmB,SAACC,GAC7B,IAAMC,EAAcC,KAAKC,MAAMH,EAAEzU,MACjCmU,GAAY,qBAAqBU,SAAQ,SAAAC,GAAC,OAAGA,EAAEJ,OAG7CK,GAAU,WAAM,IAAD,QACf,QAAF,EAAAX,UAAA,SAAIY,oBAAoB,QAAQX,IAC9B,QAAF,EAAAD,UAAA,SAAIY,oBAAoB,UAAUR,IAChC,QAAF,EAAAJ,UAAA,SAAIY,oBAAoB,QAAQC,IAC9B,QAAF,EAAAb,UAAA,SAAIY,oBAAoB,OAAOE,KAE7BZ,GAA+B,SAAChM,GAClC6L,GAAY,kBAAkBU,SAAQ,SAAAC,GAAC,OAAIA,EAAExM,OAE3C4M,GAAc,WAChBZ,GAA6B,UAE3BW,GAAe,WACjBX,GAA6B,SAC7BxS,QAAQuN,MAAM,iBAIX,SAASkF,KAAgB,IAAD,EAC3BQ,KACE,QAAF,EAAAX,UAAA,SAAIe,QACJf,GAAK,IAAIgB,UAAU,gEACnBd,GAA6B,WAC7BF,GAAGiB,iBAAiB,UAAUb,IAC9BJ,GAAGiB,iBAAiB,QAAQhB,IAC5BD,GAAGiB,iBAAiB,OAAQH,IAC5Bd,GAAGiB,iBAAiB,QAASJ,IAG1B,IAAMK,GAAU,WAEff,MAFKe,GAAU,WAIZ,IAAD,EACA,QAAF,EAAAlB,UAAA,SAAIe,QACJJ,KACAZ,GAAY,qBAAuB,GACnCA,GAAY,kBAAoB,IAR3BmB,GAAU,SAYTC,EAA0BC,GAIhC,OAFArB,GAAYoB,GAAWpS,KAAKqS,GAEtB,WAEFrB,GAAYoB,GAAapB,GAAYoB,GAAW5U,QAAO,SAAAmU,GAAC,OAAGA,IAAMU,OAlBhEF,GAAU,SAqBPC,EAA0BC,GAElCrB,GAAYoB,GAAapB,GAAYoB,GAAW5U,QAAO,SAAAmU,GAAC,OAAGA,IAAMU,MAvB5DF,GAAU,SAyBPvM,GAAgB,IAAD,EACrB,QAAF,EAAAqL,UAAA,SAAIqB,KAAK1M,ICrEbzI,GAAe,CACfiS,SAAU,GACVjK,OAAQ,WAmBC1H,GACS,SAAC2R,GAAD,MAAkC,CAACxR,KAAM,gCAAiCM,QAAS,CAACkR,cAD7F3R,GAEiB,SAAC0H,GAAD,MAAwB,CAACvH,KAAM,8BAA+BM,QAAS,CAACiH,YAGlGoN,GAAmE,KAEjEC,GAA2B,SAACjU,GAC9B,OAAyB,MAAtBgU,GACQA,GAAqB,SAACnD,GACzB7Q,EAASd,GAAyB2R,KAEnCmD,IAIPE,GAA6D,KAE3DC,GAA8B,SAACnU,GACjC,OAA4B,MAAzBkU,GACQA,GAAwB,SAACtN,GAC5B5G,EAASd,GAAiC0H,KAE3CsN,IAiBIE,GAvDK,WAAoF,IAAnF5T,EAAkF,uDAAxD5B,GAAc6B,EAA0C,uCAEnG,OAAQA,EAAOpB,MACX,IAAK,gCACD,OAAO,2BAAImB,GAAX,IAAkBqQ,SACV,sBAAIrQ,EAAMqQ,UAAV,YAAsBpQ,EAAOd,QAAQkR,SAASxT,KAAI,SAACgX,GAAD,OAAM,2BAAOA,GAAP,IAAS7V,GAAI4I,sBAAQnI,QAC5E,SAACoV,EAAEC,EAAMC,GAAT,OAAkBD,GAASC,EAAMxO,OAAS,QACvD,IAAK,8BACD,OAAO,2BAAIvF,GAAX,IAAkBoG,OAAQnG,EAAOd,QAAQiH,SAC7C,QACI,OAAOpG,ICLNgU,GAAiB,WA4B1B,IAAMxU,EAAWkB,cAWjB,OATAC,qBAAU,WAEN,OADAnB,EDK8B,uCAAiB,WAAOA,GAAP,SAAAG,EAAA,sDACnDyT,KACAA,GAAkB,oBAAqBK,GAAyBjU,IAChE4T,GAAkB,iBAAkBO,GAA4BnU,IAHb,2CAAjB,uDCJvB,WACHA,EDQyB,uCAAiB,WAAOA,GAAP,SAAAG,EAAA,sDAClDyT,GAAoB,oBAAqBK,GAAyBjU,IAClE4T,GAAoB,iBAAiBO,GAA4BnU,IACjE4T,KAHkD,2CAAjB,0DCN9B,IAGHxT,QAAQC,IAAI,iBACL,6BACH,kBAAC,GAAD,MACA,kBAAC,GAAD,QAKKoU,GAA+B,SAAC,GAAQ,sBACrBjR,mBAAS,IADW,mBAC3C6D,EAD2C,KAClCqN,EADkC,KAE1C9N,EAASyB,aAAmC,SAAA7H,GAAK,OAAIA,EAAMmU,KAAK/N,UAChE5G,EAAWkB,cACjBd,QAAQC,IAAIuG,GASZ,OAAO,6BACH,8BAAU1C,MAAO,GAAI0E,SAAU,SAACmK,GAAD,OAAO2B,EAAW3B,EAAEhK,cAAc5D,UACjE,4BAAQ5C,SAAqB,UAAXqE,EAAoBnE,QARnB,WACd4E,GAGLrH,EDXmB,SAACqH,GAAD,8CAA+B,WAAOrH,GAAP,SAAAG,EAAA,sDACtDyT,GAAoBvM,GADkC,2CAA/B,sDCWVuN,CAAYvN,MAIrB,UAKKwN,GAAyB,SAAC,GAAQ,gBAE3C,IAAIhE,EAAWxI,aAAY,SAAC7H,GAAD,OAAsBA,EAAMmU,KAAK9D,YACtDiE,EAAkBC,iBAAuB,MAHL,EAILvR,oBAAkB,GAJb,mBAIrCwR,EAJqC,KAIxBC,EAJwB,KAsB1C,OAPA9T,qBAAU,WACU,IAAD,EAAb6T,IACE,UAAAF,EAAgBI,eAAhB,SAAyBC,eAAe,CAACC,SAAU,cAGxD,CAACvE,IAEG,yBAAK3M,MAAO,CAACmR,OAAQ,QAASC,SAAU,QAASC,SAhBlC,SAACxC,GACnB,IAAIyC,EAAUzC,EAAEhK,cACb5F,KAAKsS,IAAKD,EAAQE,aAAeF,EAAQG,UAAaH,EAAQI,cAAgB,KAC5EZ,GAAgBC,GAAgB,GAEjCD,GAAgBC,GAAgB,KAYnCpE,EAASxT,KAAI,SAACgX,EAAQC,GAAT,OAAmB,kBAACuB,GAAD,CAAS/T,IAAKuS,EAAE7V,GAAI6I,QAASgN,OAC9D,yBAAKyB,IAAKhB,MAKLe,GAAkDhV,IAAMC,MAAK,YAAgB,IAAduG,EAAa,EAAbA,QAExE,OADAjH,QAAQC,IAAI,kBACL,6BACH,yBACI6D,MAAO,CAAC6R,MAAO,QACf/T,IAAKqF,EAAQ2O,MAAQ3O,EAAQ2O,MAAQ,mCAEzC,2BAAI3O,EAAQ4O,UACZ,6BACC5O,EAAQA,QACT,iCAGO6O,GAnHY,WAEvB,OAAO,6BACH,kBAAC,GAAD,QCWDC,GAAWC,KAAXD,QACAE,GAAkCC,KAAlCD,OAAQE,GAA0BD,KAA1BC,QAASC,GAAiBF,KAAjBE,OAAQC,GAASH,KAATG,MAK1BC,G,kLAOEnR,KAAKxE,MAAM4V,oB,+EAUX,OAAKpR,KAAKxE,MAAM6V,cAIZ,kBAAC,KAAD,KACI,kBAACP,GAAD,CAAQjU,UAAU,UACd,yBAAKA,UAAU,SACf,kBAAC,KAAD,CAAMyU,MAAM,OAAOC,KAAK,aAAaC,oBAAqB,CAAC,MACvD,kBAAC,KAAKC,KAAN,CAAWlV,IAAI,KAAf,SACA,kBAAC,KAAKkV,KAAN,CAAWlV,IAAI,KAAf,SACA,kBAAC,KAAKkV,KAAN,CAAWlV,IAAI,KAAf,WAGR,kBAACyU,GAAD,CAASrS,MAAO,CAAC+S,QAAS,WACtB,kBAAC,KAAD,CAAY/S,MAAO,CAACgT,OAAQ,WACxB,kBAAC,KAAWF,KAAZ,aACA,kBAAC,KAAWA,KAAZ,aACA,kBAAC,KAAWA,KAAZ,aAEJ,kBAAC,KAAD,CAAQ5U,UAAU,yBAAyB8B,MAAO,CAAC+S,QAAS,WACxD,kBAACR,GAAD,CAAOrU,UAAU,yBAAyB2T,MAAO,KAC7C,kBAAC,KAAD,CACIe,KAAK,SACLC,oBAAqB,CAAC,KACtBI,gBAAiB,CAAC,QAClBjT,MAAO,CAACmR,OAAQ,SAEhB,kBAACc,GAAD,CAASrU,IAAI,OAAOsV,KAAM,kBAACC,GAAA,EAAD,MAAiBC,MAAM,WAC7C,kBAAC,KAAKN,KAAN,CAAWlV,IAAI,KACX,kBAAC,IAAD,CAASyV,gBAAiBC,KAAOC,OAAQ1V,GAAG,YAA5C,YAEJ,kBAAC,KAAKiV,KAAN,CAAWlV,IAAI,KACX,kBAAC,IAAD,CAASyV,gBAAiBC,KAAOC,OAAQ1V,GAAG,YAA5C,aAEJ,kBAAC,KAAKiV,KAAN,CAAWlV,IAAI,KACX,kBAAC,IAAD,CAASyV,gBAAiBC,KAAOC,OAAQ1V,GAAG,SAA5C,UAIR,kBAACoU,GAAD,CAASrU,IAAI,OAAOsV,KAAM,kBAACM,GAAA,EAAD,MAAmBJ,MAAM,cAC/C,kBAAC,KAAKN,KAAN,CAAWlV,IAAI,KACX,kBAAC,IAAD,CAASyV,gBAAiBC,KAAOC,OAAQ1V,GAAG,UAA5C,aAchB,kBAACwU,GAAD,CAASrS,MAAO,CAAC+S,QAAS,SAAUU,UAAW,MAC3C,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAQC,KAAM,4CAA4CC,OAAQ,kBAAM,kBAAC,IAAD,CAAU9V,GAAI,gBACtF,kBAAC,IAAD,CAAO6V,KAAK,oBAAoBC,OAAQ,kBAAM,kBAAC,GAAD,SAC9C,kBAAC,IAAD,CAAOD,KAAK,WAAWC,OAAQ,kBAAM,kBAACC,GAAD,SACrC,kBAAC,IAAD,CAAOF,KAAK,QAAQC,OAAQ,kBAAM,kBAAC,EAAD,SAClC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,EAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SAEnC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,QAAQC,OAAQ,kBAAM,kBAAC,GAAD,SATtC,4FAUI,kBAAC,IAAD,CAAOD,KAAK,IAAIC,OAAQ,kBAAM,sDAK9C,kBAACrB,GAAD,CAAQtS,MAAO,CAAC6T,UAAW,WAA3B,2CAtEG,kBAAC,EAAD,U,GAlBDlX,IAAM6E,WA4HTuK,gBACXC,IACA5J,aAXkB,SAAC9F,GACnB,MACI,CACIoW,cAAepW,EAAMwX,IAAIzF,eAQR,CAACoE,gBJ9HC,yDAC5B,WAAO3W,GAAP,eAAAG,EAAA,6DACK8X,EAAgBjY,EAAS0R,MAD9B,SAESwG,QAAQC,IAAI,CAACF,IAAgB7Z,MAAK,WACnC4B,EAASd,SAER+R,OAAM,SAACtD,GACJ3N,EAASd,GAAoByO,OANzC,2CAD4B,yDI4HhBsC,CAEkCyG,ICpJ7B0B,QACW,cAA7BC,OAAO/W,SAASgX,UAEe,UAA7BD,OAAO/W,SAASgX,UAEhBD,OAAO/W,SAASgX,SAAS5I,MACvB,2DCTN,IAAI9Q,GAAe,CACf6R,YAAa,CACT,CAACjS,GAAG4I,eAAMzE,KAAM,OAAQ2N,IAAK,gEAC7B,CAAC9R,GAAG4I,eAAMzE,KAAM,SAAU2N,IAAK,gEAC/B,CAAC9R,GAAG4I,eAAMzE,KAAM,SAAU2N,IAAK,gEAC/B,CAAC9R,GAAG4I,eAAMzE,KAAM,OAAQ2N,IAAK,iEAGjCS,aAAc,CACV,CAACvS,GAAG4I,eAAMmR,KAAM,SAChB,CAAC/Z,GAAG4I,eAAMmR,KAAM,SAChB,CAAC/Z,GAAG4I,eAAMmR,KAAM,SAChB,CAAC/Z,GAAG4I,eAAMmR,KAAM,aAsBTC,GAjBM,WAA8E,IAA7EhY,EAA4E,uDAApD5B,GAAa6B,EAAuC,uCAC9F,OAAQA,EAAOpB,MACX,IAAK,8BACD,IAAIsB,EAAS,eAAOH,GAGpB,OAFAG,EAAUoQ,aAAV,sBAA6BvQ,EAAMuQ,cAAnC,CAAgD,CAACvS,GAAI4I,eAAMmR,KAAM9X,EAAOgY,cAEjE9X,EACX,QAAQ,OAAOH,IC/BnB5B,GAAe,GAYJ8Z,GARM,WAAgD,IAA/ClY,EAA8C,uDAA1B5B,GAKtC,OAAO4B,G,oBCIPmY,GAAcC,aAAgB,CAC9BtQ,YAAYL,GACZ6I,YAAY0H,GACZK,YAAYH,GACZ9S,UAAUrF,EACVgP,KAAKwC,GACL1D,KAAKyK,KACLd,IAAIxF,GACJmC,KAAKP,KAMH2E,GAAmBV,OAAOW,sCAAwC/I,KAClEgJ,GAAQC,aAAYP,GAAaI,GAAiBI,aAAgBC,QAgBxEf,OAAOY,MAAQA,GAEAA,UCtCfI,IAASxB,OACL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUoB,MAAOA,IACb,kBAAC,GAAD,QAIRK,SAASC,eAAe,SJ0HtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBtb,MAAK,SAAAub,GACJA,EAAaC,gBAEd3I,OAAM,SAAAtD,GACLvN,QAAQuN,MAAMA,EAAMtG,a,mBKhJ5B3K,EAAOC,QAAU,CAAC,UAAY,2BAA2B,YAAc,6BAA6B,KAAO,sBAAsB,QAAU,yBAAyB,QAAU,yBAAyB,MAAQ,uBAAuB,YAAc,+B,mBCApPD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,wBAAwB,KAAO,wB,mBCAnPD,EAAOC,QAAU,CAAC,QAAU,2BAA2B,YAAc,+BAA+B,WAAa,8BAA8B,aAAe,gCAAgC,OAAS,4B,mBCAvMD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,0BAA4B,+CAA+C,iCAAmC,sDAAsD,gBAAkB,qCAAqC,aAAe,oC,mBCA3SD,EAAOC,QAAU,CAAC,0BAA4B,+CAA+C,iCAAmC,sDAAsD,gBAAkB,qCAAqC,aAAe,qC","file":"static/js/main.c49dde1f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"formsControls_form_control__8RNxJ\",\"error\":\"formsControls_error__38LTu\",\"form_summary_error\":\"formsControls_form_summary_error__1Gv-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__3fWI3\",\"item\":\"nav_item__3COEM\",\"active\":\"nav_active__3meJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__2XQHA\",\"ProfileInfo\":\"Profile_ProfileInfo__yTH1e\",\"infoComponent\":\"Profile_infoComponent__3FK7u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoBlock\":\"PhotoBlock_photoBlock__32v_w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__Qvy4R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2VehT\",\"selectedPage\":\"Users_selectedPage__1R9ju\"};","module.exports = __webpack_public_path__ + \"static/media/unnamed.a5db8300.gif\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/light-aircraft-pilot-course-spain.ad84532b.jpg\";","import React from 'react';\r\nimport S from './News.module.css'\r\n\r\n\r\n\r\nfunction News(){\r\n    return(\r\n        <div>\r\n            News\r\n        </div>)\r\n}\r\n\r\n\r\nexport default News;","import React from 'react';\r\n\r\n\r\n\r\nfunction Music(){\r\n    return(\r\n        <div>\r\n            Music\r\n        </div>)\r\n}\r\n\r\n\r\nexport default Music;","import axios from \"axios\";\r\n\r\nexport const instanse = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'a4ccc59a-b0d7-4cb8-b389-cc3b34f67e84',\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n});\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n};\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\n// export const usersAPI = {\r\n//     getUsers(currentPage = 1, pageSize = 10) {\r\n//         return instanse.get(`users?page=${currentPage}&count=${pageSize}`)\r\n//             .then(response => {\r\n//                 return response.data;\r\n//\r\n//\r\n//             });\r\n//     },\r\n//     Unfollow(id: number) {\r\n//         return instanse.delete(`follow/${id}`)\r\n//             .then(response => {\r\n//                 return response\r\n//             })\r\n//     },\r\n//     Follow(id: number) {\r\n//         return instanse.post(`follow/${id}`)\r\n//             .then(response => {\r\n//                 return response\r\n//             })\r\n//     },\r\n//\r\n// };\r\n\r\n// export const AuthAPI = {\r\n//     me() {\r\n//         return instanse.get<MeResponseType>(`auth/me`)\r\n//             .then(response => {\r\n//                 return response.data;\r\n//             })},\r\n//     login(email:string,password:string,rememberMe:boolean,captcha:string|null = null ) {\r\n//         return instanse.post<loginPOSTResponseType>(`auth/login`,{email,password,rememberMe,captcha})\r\n//             .then(response => {\r\n//                 return response;\r\n//             })\r\n//     },\r\n//     logOut( ) {\r\n//   return instanse.delete(`auth/login`)\r\n//         .then(response => {\r\n//                 return response;\r\n//             })}\r\n// };\r\n\r\n// export const ProfileAPI = {\r\n//\r\n//     userIdProfile(userId:number){\r\n//         return instanse.get(`profile/` + userId)\r\n//             .then(response => {\r\n//                 return response.data\r\n//             })\r\n//     },\r\n//     statusGet(userId:number) {\r\n//         const promise = instanse.get(`profile/status/` + userId);\r\n//           return promise;\r\n//       },\r\n//     statusPut(userCurrentStatus:string) {\r\n//         console.log(\"statusPutOn\")\r\n//         const promise = instanse.put(`profile/status/`, {status:userCurrentStatus});\r\n//         return promise;\r\n//     },\r\n//     setAvatar(photoFile:any) {\r\n//         let formData = new FormData();\r\n//         formData.append(\"image\",photoFile)\r\n//\r\n//         const promise = instanse.put( `/profile/photo/`,formData,{headers:{\r\n//             \"Content-Type\": 'multipart/form-data'\r\n//             }});\r\n//         return promise\r\n//     },\r\n//     updateUserInformation(values:ProfileDataFormValuesType) {\r\n//         const promise = instanse.put(`/profile`,values);\r\n//         return promise\r\n//\r\n//     }\r\n//\r\n// };\r\n\r\n// export const securityAPI = {\r\n//     getCaptchaURL(){\r\n//         const promise = instanse.get(`/security/get-captcha-url`);\r\n//         return promise;\r\n//     }\r\n// }\r\n\r\n\r\n\r\n","\r\n\r\nexport const updateObjectInArray = (items:any,itemId:number,objPropName:any, newObjProps:any) =>{\r\n   return  items.map((u:any) => {\r\n    if (u[objPropName] === itemId) {\r\n        return {...u, ...newObjProps}\r\n    }\r\n    return u\r\n})}","import {instanse} from \"./api\";\r\nimport {usersDataType} from \"../types/typesOfReducersState\";\r\n\r\nexport type GetUsersResponseType = {\r\n    items: Array<usersDataType>,\r\n    totalCount: number,\r\n    error: string\r\n};\r\nexport type FollowResponseType = {\r\n    data:object\r\n    resultCode:number\r\n    messages:Array<string>\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage = 1, pageSize = 10,term:string = '',friend:null|boolean = null) {\r\n\r\n        return instanse.get<GetUsersResponseType>(`users?page=${currentPage}&count=${pageSize}&term=${term}`+\r\n            (friend===null?'':`&friend=${friend}`)\r\n        )\r\n            .then(response => {\r\n                return response.data;\r\n\r\n\r\n            });\r\n    },\r\n    Unfollow(id: number) {\r\n        return instanse.delete(`follow/${id}`)\r\n            .then(response => response.data) as Promise<FollowResponseType>\r\n    },\r\n    Follow(id: number) {\r\n        return instanse.post<FollowResponseType>(`follow/${id}`)\r\n            .then(response => response.data)\r\n\r\n    },\r\n\r\n};\r\n","import {Action, Dispatch} from \"redux\";\r\nimport {updateObjectInArray} from \"../../utils/objects-helper\";\r\nimport {usersDataType} from \"../../types/typesOfReducersState\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {InferActionsType, RootState} from \"../redux-store\";\r\nimport {FollowResponseType, usersAPI} from \"../../api/usersApi\";\r\n\r\n\r\nexport type initialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<usersDataType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    disableButtons: [] as Array<number>, //array of users id`s\r\n    filter:{term:'',\r\n    friend:null as null|boolean}\r\n}\r\n\r\nconst usersReducer = (state: initialStateType = initialState, action: ActionsType): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (action.userID === u.id) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            };\r\n\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: false})\r\n            };\r\n\r\n\r\n        case \"SET_USERS\":\r\n            let copyState = {...state}\r\n            return {...copyState, users: action.users}\r\n\r\n        case 'SET_TOTAL_USER_COUNT': {\r\n            let copyState = {...state}\r\n            return {...copyState, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case 'SET_CURRENT_PAGE': {\r\n\r\n            let copyState = {...state}\r\n            return {...copyState, currentPage: action.currentPage}\r\n        }\r\n\r\n        case 'IS_FETCHING_LOADER': {\r\n            let copyState = {...state}\r\n            return {...copyState, isFetching: action.isFetching}\r\n        }\r\n        case 'SET_SEARCH_FILTER':\r\n         return {...state,filter:action.payload}\r\n        case 'TOGGLE_IS_FOLLOVING_PROGRESS': {\r\n\r\n            let copyState = {...state};\r\n            return {\r\n                ...copyState, disableButtons: action.isFetching ?              /*мой способ с одним колбэком*/\r\n                    [...copyState.disableButtons, action.id] :\r\n                    copyState.disableButtons.filter(id => id !== action.id)\r\n                // []        мой способ просто с пустым массивом\r\n            }\r\n\r\n        }\r\n\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\ntype ActionsType = InferActionsType<typeof actions>\r\n\r\nexport let actions = {\r\n    followAC: (userID: number) => ({type: 'FOLLOW', userID} as const),\r\n    unfollowAC: (userID: number) => ({type: 'UNFOLLOW', userID} as const),\r\n    setUsersAC: (users: Array<usersDataType>) => ({type: 'SET_USERS', users} as const),\r\n    totalUsersCountAC: (totalUsersCount: number) => ({\r\n        type: 'SET_TOTAL_USER_COUNT',\r\n        totalUsersCount\r\n    } as const),\r\n    setCurrentPageAC: (currentPage: number) => ({type: 'SET_CURRENT_PAGE', currentPage} as const),\r\n    setSearchFilter: (filter:FilterType) => ({type:'SET_SEARCH_FILTER',payload:filter}as const),\r\n    setIsFetchingAC: (isFetching: boolean) => ({type: 'IS_FETCHING_LOADER', isFetching} as const),\r\n    setTogleFollowingProgressAC: (isFetching: boolean, id: number) => ({\r\n        type: 'TOGGLE_IS_FOLLOVING_PROGRESS',\r\n        isFetching,\r\n        id\r\n    } as const)\r\n}\r\n\r\n\r\nconst _followUnfollowFlow = async (userId: number, dispatch: Dispatch, apiMethod:(userId:number)=>Promise<FollowResponseType>, actionCreator: (userId: number) =>\r\n    ActionsType) => {\r\n    dispatch(actions.setTogleFollowingProgressAC(true, userId));\r\n    let response = await apiMethod(userId);\r\n    console.log(response)\r\n    if (response.resultCode === 0) {                                //общая функция для follow/unfollow\r\n        dispatch(actionCreator(userId));\r\n    }\r\n\r\n    dispatch(actions.setTogleFollowingProgressAC(false, userId));\r\n}\r\n\r\n\r\nexport const getUsersTC = (currentPage: number, pageSize: number = 10,filter:FilterType): ThunkType => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(actions.setIsFetchingAC(true));\r\n        let data = await usersAPI.getUsers(currentPage, pageSize,filter.term,filter.friend)\r\n        dispatch(actions.setUsersAC(data.items));\r\n        dispatch(actions.setIsFetchingAC(false));\r\n        dispatch(actions.totalUsersCountAC(data.totalCount))\r\n        dispatch(actions.setSearchFilter(filter))\r\n    }\r\n}\r\n\r\n\r\nexport const UnFollowTC = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.Unfollow.bind(userId);\r\n        await _followUnfollowFlow(userId, dispatch, apiMethod, actions.unfollowAC);\r\n    }\r\n}\r\nexport const FollowTC = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.Follow.bind(userId);\r\n        let action = actions.followAC;\r\n        // @ts-ignore\r\n        await _followUnfollowFlow(userId, dispatch, apiMethod, action);\r\n    }\r\n};\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>, RootState, unknown, ActionsType>            //общий тип для санок, по рекомендации redux/TS\r\n\r\n\r\nexport default usersReducer;\r\n\r\n","import S from \"./Users.module.css\";\r\nimport React, {useEffect} from \"react\";\r\nimport {usersDataType} from \"../../Redux/Store\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport {FilterType, getUsersTC} from \"../../Redux/user_reducer_test_selectors/users-reducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport * as queryString from \"querystring\";\r\nimport {Button} from \"antd\";\r\n\r\n\r\nexport type UsersTypes = {\r\n    users: Array<usersDataType>\r\n    totalUsersCount: number,\r\n    disableButtons: Array<number | null>,\r\n    UnFollow: (userId: number) => void,\r\n    Follow: (userId: number) => void,\r\n    filter: FilterType,\r\n    currentPage: number,\r\n    pageSize: number,\r\n\r\n}\r\n\r\n\r\nexport const UsersFunctional: React.FC<UsersTypes> = React.memo(({currentPage,filter,...props}) => {\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    // useEffect(()=>{\r\n    //     history.push({\r\n    //         pathname:'/users',\r\n    //         search:`?term=${props.filter.term}&friend=${props.filter.friend}&page=${props.currentPage}`\r\n    //     })\r\n    // },[props.filter,props.currentPage])\r\n\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as {term:string,friend:string,page:string} /*substr - для того чтобы убрать ?знак от первого ключа(это БАГ)*/\r\n        console.log( parsed)\r\n\r\n        history.push({\r\n            pathname: '/users',\r\n            search: `?term=${filter.term}&friend=${filter.friend}&page=${currentPage}`\r\n        })\r\n\r\n\r\n\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if(!!parsed.page)actualPage=Number(parsed.page)\r\n        if(!!parsed.friend)actualFilter = {...actualFilter,friend: parsed.friend ===null?null:parsed.friend===\"true\"?true:false}\r\n        if(!!parsed.term) actualFilter = {...actualFilter,term: parsed.term as string}\r\n        // console.log(actualPage,props.pageSize,actualFilter)\r\n        // dispatch(getUsersTC(actualPage,props.pageSize,actualFilter))  /*16 выпуск путь самурая 2.0*/\r\n\r\n    }, [filter])\r\n    return (\r\n\r\n        <div>\r\n\r\n            {props.users.map((u: any) => <div key={u.id}><span>\r\n                <div>\r\n            <NavLink to={'/profile/' + u.id}>\r\n\r\n            <img\r\n                src={u.photos.large || u.photos.small ? u.photos.large || u.photos.small : 'https://thumbs.dreamstime.com/b/no-image-available-icon-photo-camera-flat-vector-illustration-132483141.jpg'}\r\n                className={S.userPhoto}/>\r\n            </NavLink>\r\n        </div>\r\n        <div>\r\n            {u.followed ? <button disabled={props.disableButtons.some(id => id === u.id)} onClick={() => {\r\n                    props.UnFollow(u.id)\r\n                }}>unFollow</button> :\r\n                <Button type={\"primary\"} disabled={props.disableButtons.some(id => id == u.id)} onClick={() => {\r\n                    props.Follow(u.id)\r\n                }}>Follow</Button>\r\n            }\r\n        </div>\r\n         </span>\r\n                <span>\r\n             <span>\r\n                 <div>{u.name}</div>\r\n                 <div>{'Surname'}</div>\r\n            </span>\r\n             <span>\r\n                 <div>{'asd'}</div>\r\n                 <div>{props.totalUsersCount}</div>\r\n\r\n            </span>\r\n        </span>\r\n            </div>)\r\n            }\r\n\r\n        </div>)\r\n})\r\n\r\n","import React from \"react\";\r\nimport Pr from \"./Preloader.module.css\";\r\nimport planePreload from \"../../../assets/unnamed.gif\"\r\n\r\n\r\nexport let Preloader = ()=>{\r\n\r\n    return(\r\n        <div className={Pr.wrapper}>\r\n        <img className={Pr.imgLogo} src={planePreload}/>\r\n    </div>)\r\n}","import React, {useState} from \"react\";\r\nimport  style from \"./Paginator.module.css\";\r\n\r\ntype PaginatorType = {\r\n    onClickHandler:(p:number)=>void,\r\n    totalItemsCount:number,\r\n    pageSize:number,\r\n    currentPage:number,\r\n    portionSize:number\r\n};\r\n\r\nexport const Paginator = React.memo((props:PaginatorType) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    let portionCount = Math.ceil(pagesCount/props.portionSize);\r\n    let [portionNumber,setPortionNumber]=useState<number>(1);\r\n    let leftPortionPageNumber = (portionNumber - 1)* props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber*props.portionSize;\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let [arrow,setArrow] = useState(false);\r\n    let onMouseOverHandler = () =>{\r\n        setArrow( true);\r\n    }\r\n    let onMouseLeave = () =>{\r\n        setArrow( false);\r\n    }\r\n    return (\r\n        <div className={style.wrapper}>\r\n\r\n            <div className={style.button} onMouseOver={onMouseOverHandler} onMouseLeave={onMouseLeave}>{portionNumber > 1 && arrow && '<=' }{portionNumber > 1 && <span onClick={()=>setPortionNumber(portionNumber - 1)}>prev</span>}</div>\r\n            <div className={style.contentWrap} >\r\n                {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p =>\r\n                <span key={p} onClick={() => {\r\n                props.onClickHandler(p)\r\n            }} className={props.currentPage === p ? style.selectedPage : \"\"}><div  className={style.pageNumber}>{p}</div></span>)}\r\n            </div>\r\n            <div className={style.button} onMouseOver={onMouseOverHandler} onMouseLeave={onMouseLeave}><span onClick={()=>setPortionNumber(portionNumber + 1)}>next </span>{arrow && '=>' }</div>\r\n\r\n         </div>\r\n\r\n\r\n )\r\n\r\n});","import React from \"react\";\r\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\r\nimport {FilterType} from \"../../../Redux/user_reducer_test_selectors/users-reducer\";\r\n\r\ntype UsersSearchPropsType = {\r\n    onFilterChanged:(filter:FilterType)=>void\r\n}\r\ntype UserSearchFormType = {\r\n    term:string,\r\n    friend:'true'|'false'|'null'\r\n}\r\n\r\nconst UsersSearchForm: React.FC<UsersSearchPropsType> = (props) => {\r\n    const validateSearchForm = (values:FilterType) => {\r\n            // const errors = {};\r\n            // if (!values.email) {\r\n            //     errors.email = 'Required';\r\n            // } else if (\r\n            //     !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n            // ) {\r\n            //     errors.email = 'Invalid email address';\r\n            // }\r\n            // return errors;\r\n        }\r\n\r\n    const onSubmit = (values:UserSearchFormType, {setSubmitting}:{setSubmitting:(isSubmitting: boolean) => void}) => {\r\n        const filter = {\r\n            term:values.term,\r\n            friend:values.friend==='null'?null:values.friend==='true'?true:false\r\n        }\r\n        setTimeout(() => {\r\n            props.onFilterChanged(filter)\r\n\r\n            // alert(JSON.stringify(values, null, 2));\r\n            setSubmitting(false);\r\n        }, 400);\r\n    }\r\n\r\n    return (<div>\r\n        <div>\r\n            <h1>Lets find someone!)</h1>\r\n            <Formik\r\n                initialValues={{term: '',friend:'null'}}\r\n                // validate={validateSearchForm}\r\n                onSubmit={onSubmit}\r\n            >\r\n                {({ isSubmitting }) => (\r\n                    <Form>\r\n                        <Field type=\"text\" name=\"term\" />\r\n                        <Field name=\"friend\" as=\"select\">\r\n                            <option value=\"null\">All</option>\r\n                            <option value=\"true\">Followed</option>\r\n                            <option value=\"false\">Unfollowed</option>\r\n                        </Field>\r\n                        <ErrorMessage name=\"term\" component=\"div\" />\r\n                        <button type=\"submit\" disabled={isSubmitting}>\r\n                            SEARCH\r\n                        </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    </div>)\r\n}\r\nexport default UsersSearchForm","import {usersDataType} from \"../../Redux/Store\";\r\nimport React from \"react\";\r\nimport {UsersFunctional} from \"./Users\";\r\nimport {Preloader} from \"../common/Preloader/preloader\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\nimport UsersSearchForm from \"../common/UsersSearchForm/SearchForm\";\r\nimport {FilterType} from \"../../Redux/user_reducer_test_selectors/users-reducer\";\r\n\r\n\r\ntype MyPropsType = {\r\n    users: Array<usersDataType>,\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    setCurrentPageAC:(currentPage:number) => void,\r\n    currentPage: number,\r\n    isFetching:boolean,\r\n    disableButtons:Array<number|null>,\r\n    getUsersTC:(currentPage:number,pageSize:number,filter:FilterType)=>void,\r\n    UnFollowTC:(userId:number)=>void,\r\n    FollowTC:(userId:number)=>void,\r\n    filter:FilterType\r\n}\r\n\r\n\r\nclass UsersApiContain extends React.Component<MyPropsType> {\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.getUsersTC(this.props.currentPage,this.props.pageSize,this.props.filter);\r\n    };\r\n    onClickHandler = (p: number) => {\r\n         this.props.setCurrentPageAC(p);\r\n         this.props.getUsersTC(p,this.props.pageSize,this.props.filter);\r\n    };\r\n    onFilterChanged = (filter:FilterType) => {\r\n        this.props.getUsersTC(1,this.props.pageSize,filter);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n        <div>\r\n            <UsersSearchForm onFilterChanged={this.onFilterChanged}/>\r\n        </div>\r\n            <Paginator currentPage={this.props.currentPage}\r\n                       totalItemsCount={this.props.totalUsersCount}\r\n                       onClickHandler={this.onClickHandler}\r\n                       pageSize={this.props.pageSize}\r\n                       portionSize={10} />\r\n\r\n\r\n            {this.props.isFetching? <Preloader/>:\r\n                <UsersFunctional\r\n                users={this.props.users}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                disableButtons={this.props.disableButtons}\r\n                UnFollow={this.props.UnFollowTC}\r\n                Follow={this.props.FollowTC}\r\n                filter={this.props.filter}\r\n                currentPage={this.props.currentPage}\r\n                pageSize={this.props.pageSize}\r\n\r\n\r\n            />}\r\n\r\n\r\n        </>\r\n\r\n    }\r\n}\r\n\r\nexport default UsersApiContain;"," import React from 'react';\r\nimport {RootState} from \"../redux-store\";\r\n import {createSelector} from \"reselect\";\r\n\r\nexport const getUsersPage = (state:RootState) => {\r\n    return state.UsersPage.users\r\n};\r\n\r\nexport const getSuperUserPage = createSelector([getUsersPage],(users)=>users.length)\r\n\r\nexport const getPageSize = (state:RootState) => {\r\n    return state.UsersPage.pageSize\r\n};\r\nexport const getTotalUsersCount = (state:RootState) => {\r\n    return state.UsersPage.totalUsersCount\r\n};\r\nexport const getCurrentPage = (state:RootState) => {\r\n    return state.UsersPage.currentPage\r\n};\r\nexport const getIsFetching = (state:RootState) => {\r\n    return state.UsersPage.isFetching\r\n};\r\nexport const getDisableButtons = (state:RootState) => {\r\n    return state.UsersPage.disableButtons\r\n}\r\nexport const getFilter = (state:RootState) => {\r\n    return state.UsersPage.filter\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {RootState} from \"../../Redux/redux-store\";\r\nimport {\r\n    actions,\r\n    FollowTC, getUsersTC,\r\n    UnFollowTC,} from \"../../Redux/user_reducer_test_selectors/users-reducer\";\r\nimport UsersApiContain from \"./UsersApiContainer\";\r\nimport {\r\n    getCurrentPage,\r\n    getDisableButtons, getFilter,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsersPage\r\n} from \"../../Redux/user_reducer_test_selectors/users-selectors\";\r\n\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        disableButtons: getDisableButtons(state),\r\n        filter:getFilter(state)\r\n\r\n    }\r\n}\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps, {setCurrentPageAC:actions.setCurrentPageAC,UnFollowTC, getUsersTC, FollowTC}\r\n)(UsersApiContain)\r\nexport default UsersContainer","import {ProfileDataFormValuesType} from \"../components/Profile/ProfileInfo/ProfileEditForm/ProfileForm\";\r\nimport {instanse} from \"./api\";\r\nimport {photosType, userProfileType} from \"../types/typesOfReducersState\";\r\nimport {APIResponseType} from \"./../types/typesForAuthAxiosResponse\"\r\n\r\nexport const ProfileAPI = {\r\n\r\n    userIdProfile(userId: number) {\r\n        return instanse.get<userProfileType>(`profile/` + userId)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    statusGet(userId: number) {\r\n        return instanse.get(`profile/status/` + userId)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    statusPut(userCurrentStatus: string) {\r\n        return instanse.put<APIResponseType>(`profile/status/`, {status: userCurrentStatus})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    setAvatar(photoFile: File) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n\r\n        return instanse.put<APIResponseType<photosType>>(`/profile/photo/`, formData, {\r\n            headers: {\r\n                \"Content-Type\": 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    },\r\n    updateUserInformation(values: ProfileDataFormValuesType) {\r\n        return instanse.put<APIResponseType>(`/profile`, values)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n\r\n    }\r\n\r\n};\r\n","import {v1} from \"uuid\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ProfileDataFormValuesType} from \"../../components/Profile/ProfileInfo/ProfileEditForm/ProfileForm\";\r\nimport {userProfileType, photosType, postsDataType} from \"../../types/typesOfReducersState\";\r\nimport {CommonThunkType, InferActionsType, RootState} from \"../redux-store\";\r\nimport { ProfileAPI } from \"../../api/ProfileAPI\";\r\n\r\n\r\ntype ActionsType = InferActionsType<typeof actions>;\r\ntype ThunkType = CommonThunkType<ActionsType>\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nlet initialState = {\r\n    currentUserStatus: null as string|null ,\r\n\r\n    userProfile: null as userProfileType|null ,\r\n\r\n    postsData: [\r\n        {id: v1(), message: 'How are you?', likes: 12},\r\n        {id: v1(), message: 'My name is Andrew', likes: 7},\r\n        {id: v1(), message: 'How are you?', likes: 12},\r\n        {id: v1(), message: 'How are you?', likes: 12},\r\n        {id: v1(), message: 'My name is Andrew', likes: 777}\r\n    ] as Array<postsDataType>\r\n}\r\n\r\n\r\nconst profileReducer = (state: initialStateType = initialState, action: ActionsType):initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'profileReducer/ADD_POST':\r\n            return {...state, postsData: [ {id: v1(), message: action.textNew, likes: 0},...state.postsData]};\r\n        case 'profileReducer/ADD_LIKE':\r\n            return {...state,postsData: [...state.postsData.map(el=>el.id === action.id ? {...el,likes:el.likes+1} : {...el})]};\r\n\r\n            // let newState = {...state};\r\n            // newState.postsData = [...state.postsData];\r\n            // let f = newState.postsData.find(f => f.id == action.id);\r\n            // if(f){\r\n            //     f.likes++\r\n            // }\r\n            // return newState;\r\n\r\n        case 'profileReducer/SET_USER_PROFILE':\r\n            return {...state, userProfile:action.userProfile };\r\n        case 'profileReducer/SET_USER_STATUS':\r\n            return {...state,currentUserStatus:action.userStatus};\r\n\r\n        case 'profileReducer/SET_AVATAR_PHOTO':\r\n\r\n               return   {...state,userProfile:{...state.userProfile,photos:action.photos} as userProfileType}\r\n             // return {...state,userProfile:{...state.userProfile,photos:{...state.userProfile.photos,large:action.photo}}}\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\nexport let actions = {\r\n\r\n     addNewPostActionCreator: (textNew: string) => ({type: 'profileReducer/ADD_POST', textNew} as const ),\r\n\r\n     onLikeActionCreator: (id: string) => ({type: 'profileReducer/ADD_LIKE', id}as const),\r\n\r\n     setUserProfile: (userProfile: userProfileType) => ({\r\n        type: 'profileReducer/SET_USER_PROFILE',\r\n        userProfile\r\n    }as const),\r\n\r\n    setCurrentUserStatus: (userStatus: string | null) => ({\r\n        type: 'profileReducer/SET_USER_STATUS',\r\n        userStatus\r\n    }as const),\r\n\r\n    savePhotoSuccess: (photos: photosType) => ({type: 'profileReducer/SET_AVATAR_PHOTO', photos}as const)\r\n}\r\n\r\nexport const getUserProfileTC = (userId:number):ThunkType => {\r\n    return async (dispatch)=>{\r\n        let response = await  ProfileAPI.userIdProfile(userId);\r\n        dispatch(actions.setUserProfile(response));\r\n\r\n    }};\r\n\r\n\r\n\r\nexport const putUserStatusTC = (userCurrentStatus:string):ThunkType => {\r\n    return async (dispatch) => {\r\n            await ProfileAPI.statusPut(userCurrentStatus)\r\n        }\r\n\r\n};\r\nexport const getUserStatusTC = (userId:number):ThunkType => {\r\n    return async (dispatch)=>{\r\n      let response = await ProfileAPI.statusGet(userId)\r\n        dispatch(actions.setCurrentUserStatus(response));\r\n\r\n    }};\r\n\r\nexport const saveAvatarTC = (photoFile:File):ThunkType => {\r\n    return async (dispatch)=>{\r\n        let data = await ProfileAPI.setAvatar(photoFile);\r\n        if(data.resultCode === 0) {\r\n            dispatch(actions.savePhotoSuccess(data.data));\r\n        }\r\n\r\n    }\r\n};\r\nexport const updateProfileInformationTC = (values:ProfileDataFormValuesType,userId:number):ThunkType => {\r\n    return async (dispatch) => {\r\n    let response = await ProfileAPI.updateUserInformation(values);\r\n        if(response.resultCode === 0) {\r\n            dispatch(getUserProfileTC(userId));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;","import React, {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../../../Redux/redux-store\";\r\nimport {putUserStatusTC, actions} from \"../../../../Redux/profile_reducer_test_selectors/profile-reducer\";\r\n\r\n\r\nconst UserProfileStatus = () => {\r\n    let statusStateValue = useSelector<RootState, string|null>(state => state.profilePage.currentUserStatus);\r\n    const dispatch = useDispatch();\r\n\r\n    let [edit, setEdit] = useState<boolean>(false);\r\n\r\n    let [status, setStatus] = useState<string>(statusStateValue?statusStateValue:\"Введите статус\");\r\n\r\n    // if(statusStateValue === \"\"){\r\n    //     statusStateValue = \"Введите статус\"\r\n    // };\r\n\r\n    const onDclickHandler = () => {\r\n        setEdit(true);\r\n    };\r\n\r\n    const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        let valueOfStatusInput = event.currentTarget.value\r\n            setStatus(valueOfStatusInput);\r\n    };\r\n\r\n    const onBlurHandler = () => {\r\n        setEdit(false);\r\n        dispatch(actions.setCurrentUserStatus(status));\r\n        statusStateValue &&  dispatch(putUserStatusTC(status));\r\n    };\r\n\r\n    const onKeyPressHandler = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if(event.charCode === 13) {\r\n            setEdit(false);\r\n            dispatch(actions.setCurrentUserStatus(status));\r\n            statusStateValue && dispatch(putUserStatusTC(status));\r\n\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n            <span onDoubleClick={onDclickHandler}>\r\n                {!edit ? statusStateValue :\r\n                    <input  autoFocus\r\n                           value={status}\r\n                           onChange={onChangeHandler}\r\n                           onBlur={onBlurHandler}\r\n                            onKeyPress={onKeyPressHandler}\r\n                    />}\r\n            </span>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\nexport default UserProfileStatus;","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../../../Redux/redux-store\";\r\nimport noPhoto from \"./../../../../assets/noPhoto.png\";\r\nimport style from \"./PhotoBlock.module.css\"\r\nimport {saveAvatarTC} from \"../../../../Redux/profile_reducer_test_selectors/profile-reducer\";\r\nimport {userProfileType} from \"../../../../types/typesOfReducersState\";\r\n\r\n\r\ntype PhotoElementType = {\r\n    isOwner:boolean,\r\n\r\n}\r\n\r\n\r\nconst PhotoElement  = (props:PhotoElementType) =>{\r\n\r\n    let userProfile = useSelector<RootState, userProfileType|null> (state => state.profilePage.userProfile);\r\n    let dispatch = useDispatch();\r\n\r\nconst photo = () =>{\r\n    if(userProfile?.photos.large === null  ){\r\n        return <img src={noPhoto}/>\r\n    }else{\r\n       return <img src={userProfile?.photos.large}/>\r\n    }\r\n};\r\n\r\n   const onChangeHandler = (event: any) =>{\r\n\r\n\r\n           let avatar = event.target.files[0];\r\n       dispatch(saveAvatarTC(avatar));\r\n\r\n\r\n   }\r\n    return (\r\n        <div className={style.wrapper}>\r\n\r\n            <div className={style.photoBlock}>\r\n                {photo()}\r\n            </div>\r\n            <div className={style.chooseFileButton}>\r\n                {props.isOwner && <input type={'file'} onChange={onChangeHandler}/>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default PhotoElement;","import style from \"./ProfileForm.module.css\";\r\nimport React, {useEffect} from \"react\";\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {FormLabel, TextField, FormGroup, FormControlLabel, Checkbox} from \"@material-ui/core\";\r\nimport {updateProfileInformationTC, } from \"../../../../Redux/profile_reducer_test_selectors/profile-reducer\";\r\nimport {userProfileType} from \"../../../../types/typesOfReducersState\";\r\n\r\n\r\ntype ProfileDataFormType = {\r\n    userProfile: userProfileType,\r\n    isOwner: boolean,\r\n    setEditMode:(EditMode:boolean)=>void;\r\n\r\n}\r\nexport type ProfileDataFormValuesType = {\r\n    fullName: string|null,\r\n    aboutMe: string|null,\r\n    lookingForAJobDescription:string|null,\r\n    lookingForAJob: boolean,\r\n    contacts:{\r\n        facebook:string|null,\r\n        github: string|null,\r\n        instagram: string|null,\r\n        mainLink: string|null,\r\n        twitter: string|null,\r\n        vk: string|null,\r\n        website: string|null,\r\n        youtube: string|null\r\n    }\r\n\r\n}\r\n\r\nconst ProfileDataForm = (props: ProfileDataFormType) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const formik = useFormik({\r\n        // validate: (values) => {\r\n        //     if (!values.email) return {email: \"email is required\"};\r\n        //     if (!values.email.split(\"\").includes('@')) return {email: \"enter correct email\"};\r\n        //     if (!values.password)\r\n        //         return {password: \"password is required\"}\r\n        //\r\n        //\r\n        // },\r\n        initialValues: {\r\n            fullName: props.userProfile.fullName,\r\n            aboutMe: props.userProfile.aboutMe,\r\n            lookingForAJob: false,\r\n            lookingForAJobDescription: props.userProfile.lookingForAJobDescription,\r\n            contacts:{\r\n                facebook:props.userProfile.contacts.facebook,\r\n                github: props.userProfile.contacts.github,\r\n                instagram: props.userProfile.contacts.instagram,\r\n                mainLink: props.userProfile.contacts.mainLink,\r\n                twitter: props.userProfile.contacts.twitter,\r\n                vk: props.userProfile.contacts.vk,\r\n                website: props.userProfile.contacts.website,\r\n                youtube: props.userProfile.contacts.youtube\r\n\r\n            }\r\n        },\r\n        onSubmit: (values, {resetForm}) => {\r\n            console.log(values)\r\n             dispatch(updateProfileInformationTC(values,props.userProfile.userId));\r\n           setTimeout(()=>props.setEditMode(false),1000);             // костыль из-за ошибки в консоли memoryLeak\r\n\r\n\r\n\r\n            resetForm({\r\n                values: {\r\n                    fullName: '', aboutMe: '', lookingForAJob: false, lookingForAJobDescription: '',\r\n                    contacts:{\r\n                        facebook:'',\r\n                        github: '',\r\n                        instagram: '',\r\n                        mainLink: '',\r\n                        twitter: '',\r\n                        vk: '',\r\n                        website: '',\r\n                        youtube: ''\r\n                    }\r\n                }\r\n            })\r\n            values = {\r\n                fullName: '',\r\n                aboutMe: '',\r\n                lookingForAJob: false,\r\n                lookingForAJobDescription: '',\r\n                contacts:{\r\n                    facebook:'',\r\n                    github: '',\r\n                    instagram: '',\r\n                    mainLink: '',\r\n                    twitter: '',\r\n                    vk: '',\r\n                    website: '',\r\n                    youtube: ''\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n\r\n    const Contacts = ({contactTitle, contactValue}: any) => {\r\n        return (\r\n\r\n            <div> {contactTitle}:\r\n                {contactValue}\r\n            </div>\r\n\r\n        )\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit} >\r\n\r\n            <div className={style.profileDataContentWrapper}>\r\n\r\n                <div className={style.statusEditButtonChooseFileButton}>\r\n                    <button type={'submit'}>SAVE</button>\r\n                </div>\r\n\r\n\r\n                <div className={style.profileUserData}>\r\n                    <FormGroup>\r\n                        <div>\r\n\r\n                            <FormLabel>\r\n                                <b>Имя:</b>\r\n                            </FormLabel> <TextField\r\n                                              size=\"medium\"\r\n                                              type=\"fullName\"\r\n                                              label=\"fullName\"\r\n                            {...formik.getFieldProps('fullName')}/>\r\n                        </div>\r\n\r\n\r\n                        <div>\r\n                            <FormLabel>\r\n                                <b>Обо мне:</b>\r\n                            </FormLabel>\r\n                            <TextField\r\n                                size=\"medium\"\r\n                                type=\"aboutMe\"\r\n                                label=\"aboutMe\"\r\n                            {...formik.getFieldProps('aboutMe')}/>\r\n                        </div>\r\n\r\n\r\n                        <div>\r\n                            <FormLabel>\r\n                                <b>Мои навыки:</b>\r\n                            </FormLabel>\r\n                            <TextField\r\n                                size=\"medium\"\r\n                                type= \"textfield\"\r\n                                label=\"lookingForAJobDescription\"\r\n                                {...formik.getFieldProps('lookingForAJobDescription')}/>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <FormControlLabel\r\n                                label={'lookingForAJob'}\r\n                                control={<Checkbox\r\n                                    {...formik.getFieldProps('lookingForAJob')}\r\n\r\n                                />}/>\r\n                        </div>\r\n                    </FormGroup>\r\n                </div>\r\n                <div className={style.contactsList}>\r\n                    <b>Contacts:</b>{Object.keys(props.userProfile.contacts).map(key => {\r\n\r\n                    // @ts-ignore\r\n                    return <form ><div key={key} className={style.contactsEdit}>\r\n                        <b>{key}:{<TextField  {...formik.getFieldProps(`contacts.${key}`)}/>}</b>\r\n                    </div></form>\r\n\r\n                })}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\n\r\nexport default ProfileDataForm;\r\n\r\n// <Contacts key={key} contactTitle={key} contactValue={props.userProfile.contacts.key}/>","import React, {useEffect, useState} from \"react\";\r\nimport K from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../common/Preloader/preloader\";\r\nimport UserProfileStatus from \"./UserStatus/UserProfileStatus\";\r\nimport PhotoElement from \"./PhotoComponent/PhotoElement\";\r\nimport ProfileDataForm from \"./ProfileEditForm/ProfileForm\";\r\nimport {} from \"../../../Redux/profile_reducer_test_selectors/profile-reducer\";\r\nimport {userProfileType} from \"../../../types/typesOfReducersState\";\r\n\r\n\r\ntype ProfileInfoType = {\r\n    userProfile: userProfileType | null\r\n    status: string,\r\n    isOwner: boolean,\r\n    saveAvatar: (photoFile: any) => void,\r\n}\r\nlet ProfileInfo = (props: ProfileInfoType) => {\r\n    let [editMode, setEditMode] = useState<boolean>(false);\r\n\r\n\r\n\r\n    if (!props.userProfile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const goToEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={K.mainWrapper}>\r\n            {editMode ? <ProfileDataForm userProfile={props.userProfile}\r\n                                         isOwner={props.isOwner}\r\n                                         setEditMode={setEditMode}/> :\r\n\r\n                         <ProfileData userProfile={props.userProfile}\r\n                                      isOwner={props.isOwner}\r\n                                      goToEditMode={goToEditMode}/>}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\nconst ProfileData = (props: { userProfile: userProfileType, isOwner: boolean, goToEditMode: any }) => {\r\n\r\n    const Contacts = ({contactTitle, contactValue}: any) => {\r\n        return (\r\n            <div> {contactTitle}:{contactValue}</div>\r\n        )\r\n    };\r\n\r\n    return <div className={K.profileDataContentWrapper}>\r\n        <div className={K.statusEditButtonChooseFileButton}>\r\n        {props.isOwner && <button onClick={props.goToEditMode}>Edit</button>}\r\n        <div>\r\n            <UserProfileStatus/>\r\n        </div>\r\n        <div >\r\n            <PhotoElement isOwner={props.isOwner}/>\r\n        </div>\r\n        </div>\r\n\r\n\r\n        <div className={K.profileUserData}>\r\n            <div>\r\n            <b>Имя</b>: {props.userProfile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Обо мне</b>: {props.userProfile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Looking For a job:</b>{props.userProfile.lookingForAJob ? \"yes\" : \"no\"}\r\n        </div>\r\n        <div>\r\n            <b>My professional skills:</b>{props.userProfile.lookingForAJobDescription}\r\n        </div>\r\n        </div>\r\n        <div className={K.contactsList}>\r\n            <b>Contacts:</b>{Object.keys(props.userProfile.contacts).map(el => {\r\n\r\n\r\n            // @ts-ignore\r\n            return <Contacts key={el} contactTitle={el} contactValue={props.userProfile.contacts.el}/>\r\n        })}\r\n        </div>\r\n\r\n\r\n    </div>\r\n};\r\n\r\n\r\n\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport C from \"../MyPosts.module.css\";\r\nimport FavoriteBorderSharpIcon from '@material-ui/icons/FavoriteBorderSharp';\r\n\r\n\r\n\r\n\r\n\r\ntype PostType = {\r\n    onLike:(id:string)=>void,\r\n    message: string | number,\r\n    likes: number,\r\n    id:string,\r\n}\r\n\r\n\r\nfunction Post(props: PostType) {\r\n\r\n    const Like =()=>{\r\n        props.onLike(props.id);\r\n    }\r\n    return (\r\n        <div className={C.item}>\r\n            <div className={C.contentPost}>\r\n           <div className={C.postImg}><img src=\"https://www.meme-arsenal.com/memes/335bf12b9769dbcefc4de998cd023aae.jpg\"/> </div>\r\n            <div className={C.message} >{props.message}</div>\r\n            <div className={C.heart} onClick={Like}><div className={C.likeCounter}>{props.likes}</div><div><FavoriteBorderSharpIcon/></div></div>\r\n            </div>\r\n    </div>)\r\n}\r\n\r\nexport default Post;\r\n\r\n","import React from \"react\";\r\nimport C from \"../MyPosts.module.css\";\r\n\r\nimport Post from \"./Post\";\r\nimport {RootState} from \"../../../../Redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"../MyPosts\";\r\n\r\n\r\n\r\n\r\n\r\ntype PostContainerType = {\r\n    message: string | number,\r\n    likes: number,\r\n    id:string,\r\n    onOnLikeActionCreator:(id:string)=>void,\r\n}\r\n\r\nfunction PostContainer(props:PostContainerType) {\r\n\r\n    const onLike =(id:string)=>{\r\n        props.onOnLikeActionCreator(id);\r\n    }\r\n    return (<div className={C.item}>\r\n        <Post        message={props.message}\r\n                     likes={props.likes}\r\n                     id={props.id}\r\n                      onLike={onLike}/>\r\n    </div>)\r\n}\r\n\r\n\r\nexport default PostContainer;\r\n","import React from \"react\";\r\n\r\n\r\n\r\nexport const requiredField = (value:any) =>{\r\n    if(value){\r\n        return undefined\r\n    }else{\r\n        return 'Field is required'\r\n    }\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength:number) => (value:any) => {\r\n    if(value.length > maxLength){\r\n        return `Max length is ${maxLength} symbols`\r\n    }else{\r\n        return undefined\r\n    }\r\n};\r\n","import React from \"react\";\r\nimport formStyle from './formsControls.module.css';\r\nimport Field from \"redux-form\";\r\ntype TextAreaTypes ={\r\n     input:{\r\n         name: string,\r\n         value: string}\r\n     meta:any,\r\n    children:any\r\n}\r\nexport const FormControl = ({input,meta,children,...props}:TextAreaTypes) =>{\r\n    const hasError = meta.touched && meta.error;\r\n    return(\r\n        <div className={formStyle.form_control + ' ' + (hasError? formStyle.error:\"\") }>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const TextArea = (props:any) =>{\r\n   const {input,meta,child,...restProps} = props;\r\n    return(\r\n        <FormControl {...props} ><textarea {...input} {...restProps} /> </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props:any) =>{\r\n    const {input,meta,child,...restProps} = props;\r\n    return(\r\n\r\n        <FormControl {...props} ><input {...input} {...restProps} /> </FormControl>\r\n\r\n    )\r\n\r\n}\r\n\r\n","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../../utils/validators/validators\";\r\nimport {TextArea} from \"../../../common/formsControls/formsControls\";\r\n\r\n\r\ntype newPostOwnProps = {\r\n\r\n}\r\n\r\nexport type newPostValuesType = {\r\n    newPostText:string\r\n}\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\n\r\nlet NewPostForm: React.FC<InjectedFormProps<newPostValuesType, newPostOwnProps> & newPostOwnProps>\r\n    = ({handleSubmit, error}) => {\r\n\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit}>\r\n\r\n                <Field   name={\"newPostText\"}\r\n                         component={TextArea}\r\n                         placeholder={\"New post\"}\r\n                validate={[requiredField,maxLength20]}/>\r\n            <button>Add</button>\r\n        </form>)}\r\n\r\nexport const NewPostTextForm = reduxForm<newPostValuesType, newPostOwnProps>({form: 'post'})(NewPostForm)","import React from \"react\";\r\nimport C from \"./MyPosts.module.css\";\r\nimport PostContainer from \"./Post/PostContainer\";\r\nimport {NewPostTextForm} from \"./NewPostForm/NewPostForm\";\r\nimport {postsDataType} from \"../../../types/typesOfReducersState\";\r\n\r\n\r\n\r\n\r\nexport type MypostsType = {\r\n    postsData: Array<postsDataType>,\r\n    onAddNewPost:(textNew:string)=>void,\r\n    onOnLikeActionCreator:(id:string)=>void\r\n\r\n};\r\n\r\n\r\n\r\n\r\nlet MyPosts = (props: MypostsType) => {\r\n\r\n    let newPostData = props.postsData.\r\n\r\n    map(p => <PostContainer key={p.id} message={p.message}  likes={p.likes}  id={p.id} onOnLikeActionCreator={props.onOnLikeActionCreator}  />)\r\n\r\n    let addNewPost = (values:{newPostText:string})=>{\r\n        props.onAddNewPost(values.newPostText);\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <div className={C.postBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <NewPostTextForm onSubmit={addNewPost} />\r\n            </div>\r\n            {newPostData}\r\n\r\n        </div>\r\n    )\r\n};\r\nexport default MyPosts;","import React from \"react\";\r\nimport {\r\n    actions\r\n\r\n} from \"../../../Redux/profile_reducer_test_selectors/profile-reducer\";\r\nimport {RootState} from \"../../../Redux/redux-store\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\nreturn {\r\n     postsData: state.profilePage.postsData\r\n}\r\n\r\n};\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        onAddNewPost: (textNew: string) => {\r\n            dispatch(actions.addNewPostActionCreator(textNew));\r\n        },\r\n        onOnLikeActionCreator: (id: string) => {\r\n            dispatch(actions.onLikeActionCreator(id))\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect (mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport P from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./My posts/MyPostsContainer\";\r\nimport backGround from\"../../assets/light-aircraft-pilot-course-spain.jpg\"\r\nimport {userProfileType} from \"../../types/typesOfReducersState\";\r\n\r\n\r\ntype ProfileType = {\r\n    userProfile: userProfileType | null,\r\n    status: string,\r\n    isOwner:boolean,\r\n    saveAvatar:(photoFile:any)=>void,\r\n\r\n\r\n\r\n};\r\n\r\nfunction Profile(props: ProfileType) {\r\n\r\n    return (\r\n        <div>\r\n            <div className={P.wrapper}>\r\n\r\n                <div className={P.ProfileInfo}>\r\n                    <div className={P.infoComponent}><ProfileInfo userProfile={props.userProfile}\r\n                                                                  status={props.status}\r\n                                                                  isOwner={props.isOwner}\r\n                                                                  saveAvatar={props.saveAvatar}\r\n\r\n                    />\r\n                    </div>\r\n                    <img src={backGround}/>\r\n                </div>\r\n                <MyPostsContainer/>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\nexport default Profile;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport {RootState} from \"../Redux/redux-store\";\r\n\r\ntype RedirectComponentTypes = {\r\n         isAuth:boolean|null,\r\n}\r\n\r\nexport const withAuthRedirect = (Component:any) => {\r\n\r\n class RedirectComponent extends React.Component<RedirectComponentTypes>{\r\n\r\n     render(){\r\n         if(!this.props.isAuth)\r\n             return <Redirect to= '/login'/>\r\n             return <Component {...this.props}/>\r\n     }\r\n }\r\n\r\n    let mapStateToPropsForRedirect = (state:RootState) =>({\r\n        isAuth:state.auth.data.isAuth,\r\n    })\r\n  const ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n\r\n return ConnectedRedirectComponent;\r\n}","import React from 'react';\r\nimport {RootState} from \"../redux-store\";\r\n\r\n\r\n\r\nexport const userProfile = (state: RootState) => {\r\n        return state.profilePage.userProfile\r\n    };\r\nexport const status = (state: RootState) => {\r\n    return state.profilePage.currentUserStatus\r\n}\r\nexport const recivedUserId = (state: RootState) => {\r\n    return state.auth.data.id\r\n}","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootState} from \"../../Redux/redux-store\";\r\nimport {getUserStatusTC, saveAvatarTC,actions, getUserProfileTC} from \"../../Redux/profile_reducer_test_selectors/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/AuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {recivedUserId, status, userProfile} from \"../../Redux/profile_reducer_test_selectors/profile-selectors\";\r\nimport {userProfileType} from \"../../types/typesOfReducersState\";\r\n\r\n\r\ntype ProfileContainerType = {\r\n    setUserProfile: (userProfile: any) => void,\r\n    userProfile: userProfileType\r\n    match: {\r\n        params: { userId: number },\r\n        path: string,\r\n        url: string,\r\n        isExact: boolean\r\n    }\r\n    status: string\r\n    setCurrentUserStatus: (userStatus: string) => void\r\n    getUserStatusTC: (userId: number) => void\r\n    recivedUserId: number,\r\n    saveAvatar:(photoFile:any)=>void,\r\n    getUserProfileTC:(userId: number)=>void,\r\n\r\n\r\n\r\n}\r\n\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerType> {\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.recivedUserId;\r\n            // if(!userId){\r\n            //    this.props.match.params('/login')\r\n            // }\r\n\r\n        }\r\n        if(!userId){\r\n            console.log('ID should exist in URI params or in state')\r\n        }else {\r\n            this.props.getUserProfileTC(userId);\r\n            this.props.getUserStatusTC(userId);\r\n\r\n        }}\r\n\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    };\r\n\r\ncomponentDidUpdate(prevProps: Readonly<ProfileContainerType>, prevState: Readonly<{}>, snapshot?: any) {\r\n\r\n    if(this.props.match.params.userId != prevProps.match.params.userId){\r\n    this.refreshProfile()}\r\n\r\n}\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Profile {...this.props}\r\n                         userProfile={this.props.userProfile}\r\n                         status={this.props.status}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         saveAvatar={this.props.saveAvatar}\r\n\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootState) => ({\r\n    userProfile: userProfile(state),\r\n    status: status(state),\r\n    recivedUserId: recivedUserId(state),\r\n\r\n\r\n\r\n})\r\n\r\nexport default compose(connect(mapStateToProps, {setUserProfile:actions.setUserProfile, setCurrentUserStatus:actions.setCurrentUserStatus, getUserStatusTC,saveAvatarTC,getUserProfileTC})\r\n    , withAuthRedirect\r\n    , withRouter\r\n)\r\n(ProfileContainer) as React.ComponentType\r\n","import S from \"../dialogs.module.css\";\r\nimport {HashRouter, Switch, Route, NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport ChatContainer from \"./Chat/ChatContainer\";\r\n\r\n\r\ntype DialogItemType = {\r\n    id: string,\r\n    name: string,\r\n    ava: string,\r\n\r\n\r\n}\r\n\r\n\r\nfunction DialogItem(props: DialogItemType) {\r\n\r\n    return (\r\n\r\n        <div className={S.dialog}>\r\n\r\n            < NavLink className={S.link} to='/Chat'>{props.name}</NavLink>\r\n            <img className={S.avatar} src={props.ava} />\r\n\r\n        </div>)\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport S from './dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport {dialogsDataType, messagesDataType} from \"../../types/typesOfReducersState\";\r\n\r\n\r\n\r\ntype DialogsType = {\r\n    dialogsData: Array<dialogsDataType>,\r\n    messagesData: Array<messagesDataType>,\r\n    auth:number|null\r\n\r\n};\r\n\r\nfunction Dialogs(props:DialogsType) {\r\n    if(props.auth == 1){\r\n       return <Redirect to= '/login' />\r\n    }\r\n    else{\r\n\r\n\r\n    let dialogsArrayNew = props.dialogsData.map(d => <DialogItem   key= {d.id} id={d.id} ava={d.ava} name={d.name} />);\r\n\r\n            return (\r\n\r\n            <div className={S.dialogs}>\r\n            <div className={S.dialogsItems}>\r\n            {dialogsArrayNew}\r\n            </div>\r\n\r\n\r\n            <div className={S.messages}>\r\n\r\n\r\n            </div>\r\n            </div>)\r\n\r\n\r\n\r\n        }\r\n}\r\nexport default Dialogs;\r\n","export enum ResultCodesEnum {\r\n    success = 0,\r\n    error = 1\r\n\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\n//Auth api types\r\n\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D,\r\n    messages: Array<string>,\r\n    resultCode: RC\r\n}\r\n\r\n\r\nexport type MeResponseType = {\r\n    id: number,\r\n    login: string,\r\n    email: string\r\n}\r\n\r\nexport type loginPOSTResponseType = {\r\n    userId: number\r\n}\r\n","import React from 'react';\r\nimport {connect, } from \"react-redux\";\r\nimport store, {RootState} from \"../../Redux/redux-store\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {withAuthRedirect} from \"../../hoc/AuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport { dialogsDataType, messagesDataType } from '../../types/typesOfReducersState';\r\n\r\n\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    dialogsData: dialogsDataType[],\r\n    messagesData: messagesDataType[]\r\n}\r\ntype mapDispatchToProps = {\r\n\r\n}\r\ntype OwnPropsType = {\r\n\r\n}\r\n\r\nlet mapStateToProps = (state: RootState):mapStateToPropsType => {\r\n    return {\r\n        dialogsData:state.dialogsPage.dialogsData,\r\n        messagesData:state.dialogsPage.messagesData,\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default compose(connect<mapStateToPropsType,mapDispatchToProps,OwnPropsType,RootState>\r\n                                (mapStateToProps, {}), withAuthRedirect)\r\n                                                       (Dialogs) as React.ComponentType;\r\n","import {\r\n    loginPOSTResponseType,\r\n    MeResponseType,\r\n    APIResponseType,\r\n    ResultCodeForCaptcha,\r\n    ResultCodesEnum\r\n} from \"../types/typesForAuthAxiosResponse\";\r\nimport {instanse} from \"./api\";\r\n\r\n\r\n\r\n\r\n\r\nexport const AuthAPI = {\r\n    // <APIResponseType<MeResponseType>> типизация ми запроса, где то ошибка\r\n    me() {\r\n        return instanse.get(`auth/me`)\r\n            .then((response) => {\r\n                return response.data;\r\n            })\r\n            .catch(()=>{\r\n                alert(\"some trouble\")\r\n            })\r\n    },\r\n    login(email:string,password:string,rememberMe:boolean,captcha:string|null = null ) {\r\n        return instanse.post<APIResponseType<loginPOSTResponseType,ResultCodesEnum | ResultCodeForCaptcha>>(`auth/login`,{email,password,rememberMe,captcha})\r\n            .then(response => {\r\n                return response;\r\n            })\r\n    },\r\n    logOut( ) {\r\n        return instanse.delete(`auth/login`)\r\n            .then(response => {\r\n                return response;\r\n            })}\r\n};\r\n","import {instanse} from \"./api\";\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL(){\r\n        const promise = instanse.get(`/security/get-captcha-url`);\r\n        return promise;\r\n    }\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {odbjDataType} from \"../../types/typesOfReducersState\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {CommonThunkType, InferActionsType, RootState} from \"../redux-store\";\r\nimport {ResultCodeForCaptcha, ResultCodesEnum} from \"../../types/typesForAuthAxiosResponse\";\r\nimport { AuthAPI } from \"../../api/AuthAPI\";\r\nimport { securityAPI } from \"../../api/securityAPI\";\r\n\r\nexport type initialStateType = {\r\n    data:odbjDataType\r\n};\r\ntype ActionsType = InferActionsType<typeof actions>;\r\nexport type ThunkType = CommonThunkType<ActionsType>\r\n\r\n\r\nlet initialState = {\r\n    data:{\r\n        id: null as number|null,\r\n        email: null as string|null,\r\n        login: null as string|null,\r\n        isAuth: false,\r\n        captchaUrl:null as string|null\r\n\r\n    },\r\n\r\n}\r\n\r\n\r\nconst authReducer = (state: initialStateType = initialState, action: ActionsType):initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'authReducer/SET_USER_AUTH_DATA':\r\n            return {...state, data:action.data};\r\n        case 'authReducer/GET_CAPTCHA_URL_SUCCESS':\r\n            return {...state,data:{...state.data,captchaUrl:action.captchaUrl}}\r\n          default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nlet actions = {\r\n    setAuthUserDataAC: (id: number | null, email: string | null, login: string | null, isAuth: boolean) =>\r\n        ({type: 'authReducer/SET_USER_AUTH_DATA', data: {id, email, login, isAuth}}as const),\r\n    getCaptchaUrlAC: (captchaUrl: string) => ({\r\n        type: 'authReducer/GET_CAPTCHA_URL_SUCCESS', captchaUrl\r\n    }as const)\r\n}\r\n\r\n\r\nexport const AuthMeThunk = ():ThunkType => {\r\n    return async (dispatch) => {\r\n            let response = await AuthAPI.me()\r\n        if (response.resultCode === ResultCodesEnum.success ) {\r\n            dispatch(actions.setAuthUserDataAC(response.data.id, response.data.email, response.data.login, true));\r\n            }\r\n    }}\r\n\r\n\r\nexport const LoginTC = (email:string,password:string,rememberMe:boolean,captcha:string):ThunkType => {\r\n   return async (dispatch) => {\r\n       let response = await AuthAPI.login(email,password,rememberMe,captcha)\r\n           if(response.data.resultCode === 0){\r\n                    dispatch(AuthMeThunk());\r\n                }else if (response.data.resultCode === ResultCodeForCaptcha.CaptchaIsRequired) {\r\n                   dispatch(getCaptchaUrlTC());\r\n           }\r\n\r\n           }}\r\n\r\nexport const LogOutTC = ():ThunkType =>{\r\n    return async (dispatch) =>{\r\n       let response = await AuthAPI.logOut()\r\n        if(response.data.resultCode === 0){\r\n                   dispatch(actions.setAuthUserDataAC(null,'','',false));\r\n                 }}};\r\n\r\n\r\nexport const getCaptchaUrlTC = ():ThunkType =>  {\r\n    return async (dispatch) => {\r\n        const response = await securityAPI.getCaptchaURL();\r\n        const captchaURL = response.data.url;\r\n        dispatch(actions.getCaptchaUrlAC(captchaURL))\r\n    }}\r\n\r\nexport default authReducer","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm, reset} from \"redux-form\";\r\nimport {Input} from \"../common/formsControls/formsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Dispatch} from \"redux\";\r\nimport {connect, useDispatch} from \"react-redux\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport {RootState} from \"../../Redux/redux-store\";\r\nimport formStyle from \"./../common/formsControls/formsControls.module.css\"\r\nimport {LoginTC, ThunkType} from \"../../Redux/auth_reducer_test/auth-reducer\";\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth:boolean,\r\n    captchaUrl?:string|null\r\n }\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl?: string|null\r\n}\r\n\r\nexport type LoginFormValuesType = {\r\n      captcha: string\r\n    rememberMe: boolean\r\n    password: string\r\n    email: string\r\n}\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nlet LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps>\r\n    = ({handleSubmit, error, captchaUrl}) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field  name={\"email\"}\r\n                       component={Input}\r\n                       placeholder={\"Login\"}\r\n                validate={[requiredField,maxLength30]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"password\"}\r\n                       name={\"password\"}\r\n                       component={Input}\r\n                       validate={[requiredField,maxLength30]}/>\r\n            </div>\r\n            <div>\r\n                <Field   component={\"input\"}\r\n                         type={\"checkbox\"}\r\n                         placeholder={\"checkbox\"}\r\n                         name={\"rememberMe\"}/>Remember me\r\n            </div>\r\n\r\n\r\n            <div className={formStyle.form_summary_error}>\r\n                {captchaUrl && <img  src= {captchaUrl}/>}\r\n\r\n                {captchaUrl && <Field placeholder={\"captcha\"}\r\n                                      name={\"captcha\"}\r\n                                      component={Input}\r\n                                      validate={[requiredField]}/>}\r\n\r\n\r\n            {error? <span>{error}</span> :null}\r\n            </div>\r\n\r\n            <div>\r\n                <button>Submit</button>\r\n            </div>\r\n\r\n        </form>)\r\n\r\n}\r\n\r\nconst afterSubmit = (result:any,dispatch:Dispatch) => {                         //Очистка формы после сабмита\r\n    dispatch(reset('login'));\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>         //оборачиваем в HOC redux form для получения необходимых данных\r\n                                                                                 //  в род.компоненте\r\n({form: 'login',onSubmitSuccess: afterSubmit})(LoginForm)\r\n\r\n\r\n\r\nconst Login: React.FC<MapStateToPropsType> = (props:MapStateToPropsType) => {\r\n    let dispatch = useDispatch();\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/Profile\"} />\r\n    };\r\n\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        dispatch(LoginTC(formData.email,formData.password,formData.rememberMe,formData.captcha));\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n\r\n        </div>\r\n    )\r\n}\r\nlet mapStateToProps = (state:RootState):MapStateToPropsType =>({\r\n    isAuth:state.auth.data.isAuth,\r\n    captchaUrl: state.auth.data.captchaUrl,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps,{}) (Login);","import {CommonThunkType, InferActionsType, RootState} from \"../redux-store\";\r\nimport {AuthMeThunk} from \"../auth_reducer_test/auth-reducer\";\r\n\r\n\r\nlet initialState = {\r\n      initialized:false,\r\n      error:'',\r\n}\r\n\r\ntype ActionsType = InferActionsType<typeof actions>\r\ntype ThunkType = CommonThunkType<ActionsType>\r\n\r\ntype initialStateType = typeof initialState;\r\n\r\n\r\nconst appReducer = (state: initialStateType = initialState, action: ActionsType):initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case 'appReducer/INITIALIZED_SUCCESS':\r\n            return {...state,initialized:true};\r\n        case 'appReducer/SET_APP_ERROR':\r\n            return {...state,error:action.error};\r\n\r\n          default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nlet actions = {\r\n     InitializedSuccess: () => ({type: 'appReducer/INITIALIZED_SUCCESS'} as const),\r\n     setAppError: (error: string) => ({type: 'appReducer/SET_APP_ERROR', error} as const)\r\n}\r\n\r\nexport const initializeAppTC = ():ThunkType=>\r\n   async (dispatch)=> {\r\n    let promiseAuthMe = dispatch(AuthMeThunk());\r\n      await Promise.all([promiseAuthMe]).then(()=>{\r\n           dispatch(actions.InitializedSuccess())\r\n       })\r\n           .catch((error:any) =>{\r\n               dispatch(actions.setAppError(error));\r\n           })\r\n       };\r\n\r\n\r\nexport default appReducer;","import {ChatMessageType} from \"../Redux/chatReducer/chat-reducer\";\r\n\r\nlet subscribers ={\r\n    'messages-received':[] as messagesReceivedSubscriberType[],\r\n    'status-changed':[] as statusChangedSubscriberType[]\r\n}\r\n\r\ntype messagesReceivedSubscriberType = (messages: ChatMessageType[])=>void\r\ntype statusChangedSubscriberType = (status: StatusType)=>void\r\n\r\n\r\nlet ws:WebSocket|null = null\r\n\r\ntype eventNamesTypes = 'messages-received'|'status-changed'\r\n\r\nexport const closeHandler = () =>{\r\n    notifySubscribersAboutStatus(\"pending\")\r\n    setTimeout(createChannel,2000)\r\n};\r\nexport const onMessageHandler = (e:MessageEvent)=>{\r\n    const newMessages = JSON.parse(e.data);\r\n    subscribers[\"messages-received\"].forEach(s=> s(newMessages))\r\n};\r\n\r\nconst cleanUp = () =>{\r\n    ws?.removeEventListener('close',closeHandler)\r\n    ws?.removeEventListener('message',onMessageHandler)\r\n    ws?.removeEventListener('error',errorHandler)\r\n    ws?.removeEventListener('open',openHandler)\r\n}\r\nconst notifySubscribersAboutStatus = (status:StatusType) =>{\r\n    subscribers[\"status-changed\"].forEach(s => s(status))\r\n}\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus(\"ready\")\r\n}\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus(\"error\")\r\n    console.error(\"RESTART PAGE\")\r\n}\r\n\r\n\r\nexport function createChannel(){\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('message',onMessageHandler)\r\n    ws.addEventListener('close',closeHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatApi = {\r\n    start(){\r\n        createChannel()\r\n    },\r\n    stop(){\r\n        ws?.close();\r\n        cleanUp()\r\n        subscribers[\"messages-received\"] = []\r\n        subscribers[\"status-changed\"] = []\r\n    },\r\n\r\n\r\n    subscribe(eventName:eventNamesTypes,callback:messagesReceivedSubscriberType|statusChangedSubscriberType){\r\n    // @ts-ignore\r\n        subscribers[eventName].push(callback)\r\n\r\n        return()=>{\r\n        // @ts-ignore\r\n            subscribers[eventName] = subscribers[eventName].filter(s=> s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName:eventNamesTypes,callback:messagesReceivedSubscriberType|statusChangedSubscriberType){\r\n        // @ts-ignore\r\n        subscribers[eventName] = subscribers[eventName].filter(s=> s !== callback)\r\n    },\r\n    sendMessage(message:string){\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport type ChatMessageAPIType = {\r\n    userId:number\r\n    message:string\r\n    userName:string\r\n    photo:string\r\n};\r\nexport type StatusType = \"pending\" | \"ready\"| \"error\"","import {CommonThunkType, InferActionsType, RootState} from \"../redux-store\";\r\nimport {chatApi, ChatMessageAPIType, StatusType} from \"../../api/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {v1} from \"uuid\";\r\n\r\nexport type initialStateType = typeof initialState\r\ntype ActionsType = InferActionsType<typeof actions>;\r\nexport type ThunkType = CommonThunkType<ActionsType>\r\nexport type ChatMessageType = ChatMessageAPIType & {id:string}\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: \"pending\" as StatusType\r\n}\r\n\r\n\r\nconst chatReducer = (state: initialStateType = initialState, action: ActionsType): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'chatReducer/MESSAGES_RECEIVED':\r\n            return {...state, messages:\r\n                    [...state.messages,...action.payload.messages.map((m)=>m = {...m,id: v1()})].filter\r\n                    ((m,index,array)=> index >= array.length - 15 )};\r\n        case 'chatReducer/STATUS_CHANGING':\r\n            return {...state, status: action.payload.status};\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    messagesReceived: (messages: ChatMessageType[]) => ({type: 'chatReducer/MESSAGES_RECEIVED', payload: {messages}} as const),\r\n    statusOfSocketConnection: (status:StatusType) => ({type: 'chatReducer/STATUS_CHANGING', payload: {status}} as const)\r\n}\r\n\r\nlet _newMessageHandler:((messages:ChatMessageType[]) => void) | null = null\r\n\r\nconst newMessageHandlerCreator = (dispatch:Dispatch)=> {\r\n    if(_newMessageHandler == null){\r\n        return _newMessageHandler = (messages:ChatMessageType[]) => {\r\n            dispatch(actions.messagesReceived(messages))}\r\n    }\r\n    return _newMessageHandler\r\n}\r\n\r\n\r\nlet _statusChangedHandler:((status:StatusType) => void) | null = null\r\n\r\nconst statusChangedHandlerCreator = (dispatch:Dispatch)=> {\r\n    if(_statusChangedHandler == null){\r\n        return _statusChangedHandler = (status:StatusType) => {\r\n            dispatch(actions.statusOfSocketConnection(status))}\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatApi.start()\r\n    chatApi.subscribe(\"messages-received\", newMessageHandlerCreator(dispatch))\r\n    chatApi.subscribe(\"status-changed\", statusChangedHandlerCreator(dispatch))\r\n}\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch) => {\r\n    chatApi.unsubscribe(\"messages-received\", newMessageHandlerCreator(dispatch))\r\n    chatApi.unsubscribe(\"status-changed\",statusChangedHandlerCreator(dispatch) )\r\n    chatApi.stop()\r\n}\r\nexport const sendMessage = (message:string): ThunkType => async (dispatch) => {\r\n    chatApi.sendMessage(message)\r\n}\r\n\r\nexport default chatReducer","import React, {useEffect, useRef, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    ChatMessageType,\r\n    sendMessage,\r\n    startMessagesListening,\r\n    stopMessagesListening\r\n} from \"../Redux/chatReducer/chat-reducer\";\r\nimport {RootState} from \"../Redux/redux-store\";\r\nimport {StatusType} from \"../api/chat-api\";\r\n\r\n\r\n\r\n\r\nconst ChatPage: React.FC = () => {\r\n\r\n    return <div>\r\n        <Chat/>\r\n    </div>\r\n}\r\n\r\nexport const Chat: React.FC = () => {\r\n    // let [wsChannel, setWsChannel] = useState<WebSocket | null>(null)\r\n    // useEffect(() => {\r\n    //     let ws: WebSocket;\r\n    //     const closeHandler = () => {\r\n    //         console.log('connection was terminated')\r\n    //         setTimeout(createChanel, 3000)\r\n    //     }\r\n    //\r\n    //     function createChanel() {\r\n    //\r\n    //         ws?.removeEventListener('close', closeHandler)\r\n    //         ws?.close()\r\n    //\r\n    //         ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\r\n    //         ws.addEventListener('close', closeHandler)\r\n    //         setWsChannel(ws)\r\n    //\r\n    //     }\r\n    //\r\n    //     createChanel();\r\n    //     return () => {\r\n    //         ws.removeEventListener('close', closeHandler)\r\n    //         ws.close()\r\n    //     }\r\n    //\r\n    // }, [])\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(startMessagesListening())\r\n        return () => {\r\n            dispatch(stopMessagesListening())\r\n        }\r\n    }, [])\r\n\r\n\r\n    console.log('Chat rendered')\r\n    return <div>\r\n        <Messages/>\r\n        <AddMessageForm/>\r\n    </div>\r\n}\r\n\r\n\r\nexport const AddMessageForm: React.FC<{}> = ({}) => {\r\n    let [message, setMessage] = useState('')\r\n    const status = useSelector<RootState, StatusType>(state => state.chat.status)\r\n    const dispatch = useDispatch();\r\n    console.log(status)\r\n\r\n\r\n    const onClickHandler = () => {\r\n        if (!message) {\r\n            return\r\n        }\r\n        dispatch(sendMessage(message))\r\n    }\r\n    return <div>\r\n        <textarea style={{}} onChange={(e) => setMessage(e.currentTarget.value)}/>\r\n        <button disabled={status !== \"ready\"} onClick={onClickHandler}>SEND</button>\r\n    </div>\r\n}\r\n\r\n\r\nexport const Messages: React.FC<{}> = ({}) => {\r\n\r\n    let messages = useSelector((state: RootState) => state.chat.messages);\r\n    const messageAncorRef = useRef<HTMLDivElement>(null);\r\n    let [isAutoScroll,setIsAutoScroll] = useState<boolean>(true)\r\n\r\n    const scrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>) => {\r\n        let element = e.currentTarget\r\n        if(Math.abs((element.scrollHeight - element.scrollTop) - element.clientHeight) < 300){\r\n            !isAutoScroll && setIsAutoScroll(true)\r\n        }else{\r\n            isAutoScroll && setIsAutoScroll(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n       if(isAutoScroll){\r\n            messageAncorRef.current?.scrollIntoView({behavior: \"smooth\"})\r\n        }\r\n\r\n    }, [messages])\r\n\r\n    return <div style={{height: '400px', overflow: 'auto'}} onScroll={scrollHandler}>\r\n        {messages.map((m: any, index) => <Message key={m.id} message={m}/>)}\r\n        <div ref={messageAncorRef}></div>\r\n    </div>\r\n}\r\n\r\n\r\nexport const Message: React.FC<{ message: ChatMessageType }> = React.memo(({message}) => {\r\n    console.log(\">>>>>>>message\")\r\n    return <div>\r\n        <img\r\n            style={{width: '40px'}}\r\n            src={message.photo ? message.photo : 'https://via.placeholder.com/40'}\r\n        />\r\n        <b>{message.userName}</b>\r\n        <br/>\r\n        {message.message}\r\n        <hr/>\r\n    </div>\r\n})\r\nexport default ChatPage;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport Nav from \"./components/nav/nav\";\r\nimport {NavLink, Route, withRouter, Redirect, Switch} from \"react-router-dom\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport ChatContainer from \"./components/Dialogs/DialogItem/Chat/ChatContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport HeaderContainer from \"./components/header/headerContainer\";\r\nimport Login from \"./components/Login/login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeAppTC} from \"./Redux/app_reducer_test/app-reducer\";\r\nimport {RootState} from \"./Redux/redux-store\";\r\nimport {Preloader} from \"./components/common/Preloader/preloader\";\r\nimport {Layout, Menu, Breadcrumb} from 'antd';\r\nimport {UserOutlined, LaptopOutlined, NotificationOutlined} from '@ant-design/icons';\r\nimport navCss from \"./components/nav/nav.module.css\";\r\nimport ChatPage from \"./pages/ChatPage\";\r\n\r\ntype AppPropsType = {\r\n    initializeAppTC: () => void,\r\n    isInitialized: boolean,\r\n}\r\n\r\nconst {SubMenu} = Menu;\r\nconst {Header, Content, Footer, Sider} = Layout;\r\n\r\n\r\n// const ChatPage = React.lazy(()=> import('./pages/ChatPage'))\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n    // callAllUnhandledErrors = (promiseRejectionEvent:any) => {\r\n    //       alert('someError');                                    // вместо алерта вставим санку для диспатча ошибки в аппРеддюсер\r\n    //\r\n    // }\r\n    componentDidMount() {\r\n        this.props.initializeAppTC();\r\n        // window.addEventListener(\"somerejection\",this.callAllUnhandledErrors);\r\n\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        // window.removeEventListener(\"somerejection\",this.callAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.isInitialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <Layout>\r\n                <Header className=\"header\">\r\n                    <div className=\"logo\"/>\r\n                    <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                        <Menu.Item key=\"1\">nav 1</Menu.Item>\r\n                        <Menu.Item key=\"2\">nav 2</Menu.Item>\r\n                        <Menu.Item key=\"3\">nav 3</Menu.Item>\r\n                    </Menu>\r\n                </Header>\r\n                <Content style={{padding: '0 50px'}}>\r\n                    <Breadcrumb style={{margin: '16px 0'}}>\r\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>List</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>App</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    <Layout className=\"site-layout-background\" style={{padding: '24px 0'}}>\r\n                        <Sider className=\"site-layout-background\" width={200}>\r\n                            <Menu\r\n                                mode=\"inline\"\r\n                                defaultSelectedKeys={['1']}\r\n                                defaultOpenKeys={['sub1']}\r\n                                style={{height: '100%'}}\r\n                            >\r\n                                <SubMenu key=\"sub1\" icon={<UserOutlined/>} title=\"Profile\">\r\n                                    <Menu.Item key=\"1\">\r\n                                        <NavLink activeClassName={navCss.active} to='/Profile'>Profile</NavLink>\r\n                                    </Menu.Item>\r\n                                    <Menu.Item key=\"2\">\r\n                                        <NavLink activeClassName={navCss.active} to='/Dialogs'>Messages</NavLink>\r\n                                    </Menu.Item>\r\n                                    <Menu.Item key=\"3\">\r\n                                        <NavLink activeClassName={navCss.active} to='/chat'>Chat</NavLink>\r\n                                    </Menu.Item>\r\n                                    {/*<Menu.Item key=\"4\">option4</Menu.Item>*/}\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub2\" icon={<LaptopOutlined/>} title=\"Developers\">\r\n                                    <Menu.Item key=\"5\">\r\n                                        <NavLink activeClassName={navCss.active} to='/Users'>Users</NavLink>\r\n                                    </Menu.Item>\r\n                                    {/*<Menu.Item key=\"6\">option6</Menu.Item>*/}\r\n                                    {/*<Menu.Item key=\"7\">option7</Menu.Item>*/}\r\n                                    {/*<Menu.Item key=\"8\">option8</Menu.Item>*/}\r\n                                </SubMenu>\r\n                                {/*<SubMenu key=\"sub3\" icon={<NotificationOutlined/>} title=\"subnav 3\">*/}\r\n                                {/*    <Menu.Item key=\"9\">option9</Menu.Item>*/}\r\n                                {/*    <Menu.Item key=\"10\">option10</Menu.Item>*/}\r\n                                {/*    <Menu.Item key=\"11\">option11</Menu.Item>*/}\r\n                                {/*    <Menu.Item key=\"12\">option12</Menu.Item>*/}\r\n                                {/*</SubMenu>*/}\r\n                            </Menu>\r\n                        </Sider>\r\n                        <Content style={{padding: '0 24px', minHeight: 280}}>\r\n                            <Switch>\r\n                                <Route  path= '/My_1First_.SocialNetwork_styding_progect' render={() => <Redirect to={'/Profile'}/>}/>\r\n                                <Route path='/Profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                                <Route path='/Dialogs' render={() => <DialogsContainer/>}/>\r\n                                <Route path='/News' render={() => <News/>}/>\r\n                                <Route path='/Music' render={() => <Music/>}/>\r\n                                <Route path='/users' render={() => <UsersContainer/>}/>\r\n                                {/*<Route exact path='/Chat' render={() => <ChatContainer/>}/>*/}\r\n                                <Route path='/login' render={() => <Login/>}/>\r\n                                <Route path='/chat' render={() => <ChatPage/>}/> /* Сделай саспенс!!!!*/\r\n                                <Route path='*' render={() => <div>404 not found!</div>}/>\r\n                            </Switch>\r\n                        </Content>\r\n                    </Layout>\r\n                </Content>\r\n                <Footer style={{textAlign: 'center'}}>Ant Design ©2018 Created by Ant UED</Footer>\r\n            </Layout>\r\n\r\n\r\n\r\n            // <div className='mainWrapper'>\r\n            //     <HeaderContainer/>\r\n            //     <div className='navAndMain'>\r\n            //         <div className='navContent'><Nav/></div>\r\n            //         <div className='mainContent'>\r\n            //             <Route path='/Profile/:userId?' render={() => <ProfileContainer/>}/>\r\n            //             <Route path='/Dialogs' render={() => <DialogsContainer/>}/>\r\n            //             <Route path='/News' render={() => <News/>}/>\r\n            //             <Route path='/Music' render={() => <Music/>}/>\r\n            //             <Route exact path='/users' render={() => <UsersContainer/>}/>\r\n            //             <Route exact path='/Chat' render={() => <ChatContainer/>}/>\r\n            //             <Route exact path='/login' render={() => <Login/>}/>\r\n            //\r\n            //         </div>\r\n            //     </div>\r\n            // </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return (\r\n        {\r\n            isInitialized: state.app.initialized,\r\n\r\n        })\r\n}\r\n\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppTC}))(App) as React.ComponentType;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {v1} from \"uuid\";\r\nimport {messagesDataType, dialogsDataType} from \"../../types/typesOfReducersState\";\r\nimport {InferActionsType} from \"../redux-store\";\r\n\r\n\r\ntype ActionsType = InferActionsType<typeof actions>\r\nexport type dialogsPageType = typeof initialState\r\n\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {id:v1(), name: 'Dima', ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {id:v1(), name: 'Andrew', ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {id:v1(), name: 'Kostya', ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {id:v1(), name: 'Lexa', ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"}\r\n\r\n    ] as Array<dialogsDataType>,\r\n    messagesData: [\r\n        {id:v1(), text: 'Hello'},\r\n        {id:v1(), text: 'Hello'},\r\n        {id:v1(), text: 'Petya'},\r\n        {id:v1(), text: 'Goodbye'}\r\n    ] as Array<messagesDataType>,\r\n\r\n}\r\n\r\nconst dialogsReducer=(state:dialogsPageType = initialState,action:ActionsType):dialogsPageType => {\r\n    switch (action.type) {\r\n        case \"dialogsReducer/SEND_MESSAGE\":\r\n            let copyState = {...state};\r\n            copyState.messagesData = [...state.messagesData,{id: v1(), text: action.newMessage}];\r\n\r\n            return copyState;\r\n        default:return state;\r\n    }\r\n}\r\n\r\nexport let actions = {\r\n    sendMessageAC: (newMessage: string)=> ({\r\n        type: \"dialogsReducer/SEND_MESSAGE\",\r\n        newMessage\r\n    } as const )\r\n}\r\nexport default dialogsReducer;\r\n\r\n\r\n","import {sidebarType} from \"../Store\";\r\n\r\nlet initialState = {\r\n\r\n}\r\n\r\nconst sidebarReducer=(state:sidebarType = initialState,action:any)=>{\r\n\r\n\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile_reducer_test_selectors/profile-reducer\";\r\nimport dialogsReducer from \"./dialogs_reducer_test/dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar_reducer_test/sidebar-reduсer\";\r\nimport usersReducer from \"./user_reducer_test_selectors/users-reducer\";\r\nimport authReducer from \"./auth_reducer_test/auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app_reducer_test/app-reducer\";\r\nimport chatReducer from \"./chatReducer/chat-reducer\";\r\n\r\nexport type StoreReduxType = typeof store\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage:profileReducer,\r\n    dialogsPage:dialogsReducer,\r\n    sidebarPage:sidebarReducer,\r\n    UsersPage:usersReducer,\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    app:appReducer,\r\n    chat:chatReducer\r\n\r\n});\r\n\r\nexport type CommonThunkType<AC extends Action, R = Promise<void>> = ThunkAction<R, RootState, unknown, AC>\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\n// type PropertiesType<T> = T extends {[key:string]: infer U } ? U : never\r\n//Если Т соответствует конструкции [key:string], выведи(infer) тип из этого Т.\r\n//далее если тип вывелся? тогда верни его, либо верни never - не возращай ничего\r\n\r\n// export type InferActionsType<T extends {[key:string]: (...args:any[])=>any}> = ReturnType<PropertiesType<T>>\r\n\r\nexport type InferActionsType<T> = T extends {[key:string]:(...args:any[])=> infer U}?U : never\r\n\r\n\r\n\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store, {RootState} from \"./Redux/redux-store\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>,\n\n    document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPosts_postBlock__8lilt\",\"contentPost\":\"MyPosts_contentPost__OJG5n\",\"item\":\"MyPosts_item__vfFDW\",\"message\":\"MyPosts_message__3_rB0\",\"postImg\":\"MyPosts_postImg__2938V\",\"heart\":\"MyPosts_heart__2XWaM\",\"likeCounter\":\"MyPosts_likeCounter__2_L3x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__EDPtQ\",\"dialogsItems\":\"dialogs_dialogsItems__1wfm2\",\"active\":\"dialogs_active__aLogn\",\"messages\":\"dialogs_messages__hiSJp\",\"message\":\"dialogs_message__d98SE\",\"avatar\":\"dialogs_avatar__2J_CQ\",\"link\":\"dialogs_link__1GBlT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__DogQy\",\"contentWrap\":\"Paginator_contentWrap__KZwyC\",\"pageNumber\":\"Paginator_pageNumber__7Woks\",\"selectedPage\":\"Paginator_selectedPage__1lwww\",\"button\":\"Paginator_button__2JoXv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"ProfileInfo_mainWrapper__2Khki\",\"profileDataContentWrapper\":\"ProfileInfo_profileDataContentWrapper__2QwnM\",\"statusEditButtonChooseFileButton\":\"ProfileInfo_statusEditButtonChooseFileButton__2Eikx\",\"profileUserData\":\"ProfileInfo_profileUserData__3aDIc\",\"contactsList\":\"ProfileInfo_contactsList__2_bC-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileDataContentWrapper\":\"ProfileForm_profileDataContentWrapper__2VpqU\",\"statusEditButtonChooseFileButton\":\"ProfileForm_statusEditButtonChooseFileButton__1w9rM\",\"profileUserData\":\"ProfileForm_profileUserData__3xvIv\",\"contactsList\":\"ProfileForm_contactsList__2oS3n\"};"],"sourceRoot":""}