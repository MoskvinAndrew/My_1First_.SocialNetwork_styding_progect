(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,a){e.exports={form_control:"formsControls_form_control__8RNxJ",error:"formsControls_error__38LTu",form_summary_error:"formsControls_form_summary_error__1Gv-G"}},116:function(e,t,a){e.exports={nav:"nav_nav__3fWI3",item:"nav_item__3COEM",active:"nav_active__3meJH"}},143:function(e,t,a){e.exports={wrapper:"Profile_wrapper__2XQHA",ProfileInfo:"Profile_ProfileInfo__yTH1e",infoComponent:"Profile_infoComponent__3FK7u"}},144:function(e,t,a){e.exports={photoBlock:"PhotoBlock_photoBlock__32v_w"}},167:function(e,t,a){e.exports={wrapper:"Preloader_wrapper__Qvy4R"}},214:function(e,t,a){e.exports={userPhoto:"Users_userPhoto__2VehT",selectedPage:"Users_selectedPage__1R9ju"}},221:function(e,t,a){e.exports=a.p+"static/media/unnamed.a5db8300.gif"},225:function(e,t){e.exports="data:image/png;base64,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"},232:function(e,t,a){e.exports=a.p+"static/media/light-aircraft-pilot-course-spain.ad84532b.jpg"},275:function(e,t,a){e.exports=a(407)},280:function(e,t,a){},281:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),i=(a(280),a(66)),s=a(67),l=a(71),u=a(70),m=(a(281),a(282),a(41)),p=a(30);var f=function(){return r.a.createElement("div",null,"News")};var d,E,h=function(){return r.a.createElement("div",null,"Music")},b=a(17),g=a(14),v=a.n(g),O=a(29),C=a(59),j=a(8),P=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(j.a)(Object(j.a)({},e),n):e}))},w=a(213),S=a.n(w).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"a4ccc59a-b0d7-4cb8-b389-cc3b34f67e84"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(d||(d={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(E||(E={}));var _={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(a)+(null===n?"":"&friend=".concat(n))).then((function(e){return e.data}))},Unfollow:function(e){return S.delete("follow/".concat(e)).then((function(e){return e.data}))},Follow:function(e){return S.post("follow/".concat(e)).then((function(e){return e.data}))}},y={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,disableButtons:[],filter:{term:"",friend:null}},A={followAC:function(e){return{type:"FOLLOW",userID:e}},unfollowAC:function(e){return{type:"UNFOLLOW",userID:e}},setUsersAC:function(e){return{type:"SET_USERS",users:e}},totalUsersCountAC:function(e){return{type:"SET_TOTAL_USER_COUNT",totalUsersCount:e}},setCurrentPageAC:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setSearchFilter:function(e){return{type:"SET_SEARCH_FILTER",payload:e}},setIsFetchingAC:function(e){return{type:"IS_FETCHING_LOADER",isFetching:e}},setTogleFollowingProgressAC:function(e,t){return{type:"TOGGLE_IS_FOLLOVING_PROGRESS",isFetching:e,id:t}}},k=function(){var e=Object(O.a)(v.a.mark((function e(t,a,n,r){var o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(A.setTogleFollowingProgressAC(!0,t)),e.next=3,n(t);case 3:o=e.sent,console.log(o),0===o.resultCode&&a(r(t)),a(A.setTogleFollowingProgressAC(!1,t));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return t.userID===e.id?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(j.a)(Object(j.a)({},e),{},{users:P(e.users,t.userID,"id",{followed:!1})});case"SET_USERS":var a=Object(j.a)({},e);return Object(j.a)(Object(j.a)({},a),{},{users:t.users});case"SET_TOTAL_USER_COUNT":var n=Object(j.a)({},e);return Object(j.a)(Object(j.a)({},n),{},{totalUsersCount:t.totalUsersCount});case"SET_CURRENT_PAGE":var r=Object(j.a)({},e);return Object(j.a)(Object(j.a)({},r),{},{currentPage:t.currentPage});case"IS_FETCHING_LOADER":var o=Object(j.a)({},e);return Object(j.a)(Object(j.a)({},o),{},{isFetching:t.isFetching});case"SET_SEARCH_FILTER":return Object(j.a)(Object(j.a)({},e),{},{filter:t.payload});case"TOGGLE_IS_FOLLOVING_PROGRESS":var c=Object(j.a)({},e);return Object(j.a)(Object(j.a)({},c),{},{disableButtons:t.isFetching?[].concat(Object(C.a)(c.disableButtons),[t.id]):c.disableButtons.filter((function(e){return e!==t.id}))});default:return e}},I=a(97),R=a(214),N=a.n(R),L=a(215),T=a(146),x=r.a.memo((function(e){var t=e.currentPage,a=e.filter,o=Object(I.a)(e,["currentPage","filter"]),c=Object(p.g)();Object(b.c)();return Object(n.useEffect)((function(){var e=L.parse(c.location.search.substr(1));console.log(e),c.push({pathname:"/users",search:"?term=".concat(a.term,"&friend=").concat(a.friend,"&page=").concat(t)});var n=a;e.page&&Number(e.page),e.friend&&(n=Object(j.a)(Object(j.a)({},n),{},{friend:null===e.friend?null:"true"===e.friend})),e.term&&(n=Object(j.a)(Object(j.a)({},n),{},{term:e.term}))}),[a]),r.a.createElement("div",null,o.users.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(m.b,{to:"/profile/"+e.id},r.a.createElement("img",{src:e.photos.large||e.photos.small?e.photos.large||e.photos.small:"https://thumbs.dreamstime.com/b/no-image-available-icon-photo-camera-flat-vector-illustration-132483141.jpg",className:N.a.userPhoto}))),r.a.createElement("div",null,e.followed?r.a.createElement("button",{disabled:o.disableButtons.some((function(t){return t===e.id})),onClick:function(){o.UnFollow(e.id)}},"unFollow"):r.a.createElement(T.a,{type:"primary",disabled:o.disableButtons.some((function(t){return t==e.id})),onClick:function(){o.Follow(e.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,e.name),r.a.createElement("div",null,"Surname")),r.a.createElement("span",null,r.a.createElement("div",null,"asd"),r.a.createElement("div",null,o.totalUsersCount))))})))})),D=a(167),F=a.n(D),M=a(221),B=a.n(M),G=function(){return r.a.createElement("div",{className:F.a.wrapper},r.a.createElement("img",{className:F.a.imgLogo,src:B.a}))},J=a(50),Q=a(86),H=a.n(Q),z=r.a.memo((function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),a=[],o=(Math.ceil(t/e.portionSize),Object(n.useState)(1)),c=Object(J.a)(o,2),i=c[0],s=c[1],l=(i-1)*e.portionSize+1,u=i*e.portionSize,m=1;m<=t;m++)a.push(m);var p=Object(n.useState)(!1),f=Object(J.a)(p,2),d=f[0],E=f[1],h=function(){E(!0)},b=function(){E(!1)};return r.a.createElement("div",{className:H.a.wrapper},r.a.createElement("div",{className:H.a.button,onMouseOver:h,onMouseLeave:b},i>1&&d&&"<=",i>1&&r.a.createElement("span",{onClick:function(){return s(i-1)}},"prev")),r.a.createElement("div",{className:H.a.contentWrap},a.filter((function(e){return e>=l&&e<=u})).map((function(t){return r.a.createElement("span",{key:t,onClick:function(){e.onClickHandler(t)},className:e.currentPage===t?H.a.selectedPage:""},r.a.createElement("div",{className:H.a.pageNumber},t))}))),r.a.createElement("div",{className:H.a.button,onMouseOver:h,onMouseLeave:b},r.a.createElement("span",{onClick:function(){return s(i+1)}},"next "),d&&"=>"))})),Y=a(75),V=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Lets find someone!)"),r.a.createElement(Y.d,{initialValues:{term:"",friend:"null"},onSubmit:function(t,a){var n=a.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};setTimeout((function(){e.onFilterChanged(r),n(!1)}),400)}},(function(e){var t=e.isSubmitting;return r.a.createElement(Y.c,null,r.a.createElement(Y.b,{type:"text",name:"term"}),r.a.createElement(Y.b,{name:"friend",as:"select"},r.a.createElement("option",{value:"null"},"All"),r.a.createElement("option",{value:"true"},"Followed"),r.a.createElement("option",{value:"false"},"Unfollowed")),r.a.createElement(Y.a,{name:"term",component:"div"}),r.a.createElement("button",{type:"submit",disabled:t},"SEARCH"))}))))},W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickHandler=function(t){e.props.setCurrentPageAC(t),e.props.getUsersTC(t,e.props.pageSize,e.props.filter)},e.onFilterChanged=function(t){e.props.getUsersTC(1,e.props.pageSize,t)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsersTC(this.props.currentPage,this.props.pageSize,this.props.filter)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V,{onFilterChanged:this.onFilterChanged})),r.a.createElement(z,{currentPage:this.props.currentPage,totalItemsCount:this.props.totalUsersCount,onClickHandler:this.onClickHandler,pageSize:this.props.pageSize,portionSize:10}),this.props.isFetching?r.a.createElement(G,null):r.a.createElement(x,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,disableButtons:this.props.disableButtons,UnFollow:this.props.UnFollowTC,Follow:this.props.FollowTC,filter:this.props.filter,currentPage:this.props.currentPage,pageSize:this.props.pageSize}))}}]),a}(r.a.Component),Z=a(224),X=function(e){return e.UsersPage.users},K=(Object(Z.a)([X],(function(e){return e.length})),function(e){return e.UsersPage.pageSize}),q=function(e){return e.UsersPage.totalUsersCount},$=function(e){return e.UsersPage.currentPage},ee=function(e){return e.UsersPage.isFetching},te=function(e){return e.UsersPage.disableButtons},ae=function(e){return e.UsersPage.filter},ne=Object(b.b)((function(e){return{users:X(e),pageSize:K(e),totalUsersCount:q(e),currentPage:$(e),isFetching:ee(e),disableButtons:te(e),filter:ae(e)}}),{setCurrentPageAC:A.setCurrentPageAC,UnFollowTC:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=_.Unfollow.bind(e),t.next=3,k(e,a,n,A.unfollowAC);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsersTC:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2?arguments[2]:void 0;return function(){var n=Object(O.a)(v.a.mark((function n(r){var o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(A.setIsFetchingAC(!0)),n.next=3,_.getUsers(e,t,a.term,a.friend);case 3:o=n.sent,r(A.setUsersAC(o.items)),r(A.setIsFetchingAC(!1)),r(A.totalUsersCountAC(o.totalCount)),r(A.setSearchFilter(a));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},FollowTC:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=_.Follow.bind(e),r=A.followAC,t.next=4,k(e,a,n,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(W),re=a(143),oe=a.n(re),ce=a(98),ie=a.n(ce),se=a(445),le=function(e){return S.get("profile/"+e).then((function(e){return e.data}))},ue=function(e){return S.get("profile/status/"+e).then((function(e){return e.data}))},me=function(e){return S.put("profile/status/",{status:e}).then((function(e){return e.data}))},pe=function(e){var t=new FormData;return t.append("image",e),S.put("/profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},fe=function(e){return S.put("/profile",e).then((function(e){return e.data}))},de={currentUserStatus:null,userProfile:null,postsData:[{id:Object(se.a)(),message:"How are you?",likes:12},{id:Object(se.a)(),message:"My name is Andrew",likes:7},{id:Object(se.a)(),message:"How are you?",likes:12},{id:Object(se.a)(),message:"How are you?",likes:12},{id:Object(se.a)(),message:"My name is Andrew",likes:777}]},Ee={addNewPostActionCreator:function(e){return{type:"profileReducer/ADD_POST",textNew:e}},onLikeActionCreator:function(e){return{type:"profileReducer/ADD_LIKE",id:e}},setUserProfile:function(e){return{type:"profileReducer/SET_USER_PROFILE",userProfile:e}},setCurrentUserStatus:function(e){return{type:"profileReducer/SET_USER_STATUS",userStatus:e}},savePhotoSuccess:function(e){return{type:"profileReducer/SET_AVATAR_PHOTO",photos:e}}},he=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(e);case 2:n=t.sent,a(Ee.setUserProfile(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe(e);case 2:0===(n=t.sent).resultCode&&a(Ee.savePhotoSuccess(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profileReducer/ADD_POST":return Object(j.a)(Object(j.a)({},e),{},{postsData:[{id:Object(se.a)(),message:t.textNew,likes:0}].concat(Object(C.a)(e.postsData))});case"profileReducer/ADD_LIKE":return Object(j.a)(Object(j.a)({},e),{},{postsData:Object(C.a)(e.postsData.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{likes:e.likes+1}):Object(j.a)({},e)})))});case"profileReducer/SET_USER_PROFILE":return Object(j.a)(Object(j.a)({},e),{},{userProfile:t.userProfile});case"profileReducer/SET_USER_STATUS":return Object(j.a)(Object(j.a)({},e),{},{currentUserStatus:t.userStatus});case"profileReducer/SET_AVATAR_PHOTO":return Object(j.a)(Object(j.a)({},e),{},{userProfile:Object(j.a)(Object(j.a)({},e.userProfile),{},{photos:t.photos})});default:return e}},Oe=function(){var e=Object(b.d)((function(e){return e.profilePage.currentUserStatus})),t=Object(b.c)(),a=Object(n.useState)(!1),o=Object(J.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(e||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"),l=Object(J.a)(s,2),u=l[0],m=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){i(!0)}},c?r.a.createElement("input",{autoFocus:!0,value:u,onChange:function(e){var t=e.currentTarget.value;m(t)},onBlur:function(){i(!1),t(Ee.setCurrentUserStatus(u)),e&&t(be(u))},onKeyPress:function(a){13===a.charCode&&(i(!1),t(Ee.setCurrentUserStatus(u)),e&&t(be(u)))}}):e)))},Ce=a(225),je=a.n(Ce),Pe=a(144),we=a.n(Pe),Se=function(e){var t=Object(b.d)((function(e){return e.profilePage.userProfile})),a=Object(b.c)();return r.a.createElement("div",{className:we.a.wrapper},r.a.createElement("div",{className:we.a.photoBlock},null===(null===t||void 0===t?void 0:t.photos.large)?r.a.createElement("img",{src:je.a}):r.a.createElement("img",{src:null===t||void 0===t?void 0:t.photos.large})),r.a.createElement("div",{className:we.a.chooseFileButton},e.isOwner&&r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];a(ge(t))}})))},_e=a(99),ye=a.n(_e),Ae=a(437),ke=a(440),Ue=a(442),Ie=a(449),Re=a(443),Ne=function(e){var t=Object(b.c)(),a=Object(Y.e)({initialValues:{fullName:e.userProfile.fullName,aboutMe:e.userProfile.aboutMe,lookingForAJob:!1,lookingForAJobDescription:e.userProfile.lookingForAJobDescription,contacts:{facebook:e.userProfile.contacts.facebook,github:e.userProfile.contacts.github,instagram:e.userProfile.contacts.instagram,mainLink:e.userProfile.contacts.mainLink,twitter:e.userProfile.contacts.twitter,vk:e.userProfile.contacts.vk,website:e.userProfile.contacts.website,youtube:e.userProfile.contacts.youtube}},onSubmit:function(a,n){var r=n.resetForm;console.log(a),t(function(e,t){return function(){var a=Object(O.a)(v.a.mark((function a(n){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe(e);case 2:0===a.sent.resultCode&&n(he(t));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a,e.userProfile.userId)),setTimeout((function(){return e.setEditMode(!1)}),1e3),r({values:{fullName:"",aboutMe:"",lookingForAJob:!1,lookingForAJobDescription:"",contacts:{facebook:"",github:"",instagram:"",mainLink:"",twitter:"",vk:"",website:"",youtube:""}}}),a={fullName:"",aboutMe:"",lookingForAJob:!1,lookingForAJobDescription:"",contacts:{facebook:"",github:"",instagram:"",mainLink:"",twitter:"",vk:"",website:"",youtube:""}}}});return r.a.createElement("form",{onSubmit:a.handleSubmit},r.a.createElement("div",{className:ye.a.profileDataContentWrapper},r.a.createElement("div",{className:ye.a.statusEditButtonChooseFileButton},r.a.createElement("button",{type:"submit"},"SAVE")),r.a.createElement("div",{className:ye.a.profileUserData},r.a.createElement(Ae.a,null,r.a.createElement("div",null,r.a.createElement(ke.a,null,r.a.createElement("b",null,"\u0418\u043c\u044f:"))," ",r.a.createElement(Ue.a,Object.assign({size:"medium",type:"fullName",label:"fullName"},a.getFieldProps("fullName")))),r.a.createElement("div",null,r.a.createElement(ke.a,null,r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")),r.a.createElement(Ue.a,Object.assign({size:"medium",type:"aboutMe",label:"aboutMe"},a.getFieldProps("aboutMe")))),r.a.createElement("div",null,r.a.createElement(ke.a,null,r.a.createElement("b",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:")),r.a.createElement(Ue.a,Object.assign({size:"medium",type:"textfield",label:"lookingForAJobDescription"},a.getFieldProps("lookingForAJobDescription")))),r.a.createElement("div",null,r.a.createElement(Ie.a,{label:"lookingForAJob",control:r.a.createElement(Re.a,a.getFieldProps("lookingForAJob"))})))),r.a.createElement("div",{className:ye.a.contactsList},r.a.createElement("b",null,"Contacts:"),Object.keys(e.userProfile.contacts).map((function(e){return r.a.createElement("form",null,r.a.createElement("div",{key:e,className:ye.a.contactsEdit},r.a.createElement("b",null,e,":",r.a.createElement(Ue.a,a.getFieldProps("contacts.".concat(e))))))})))))},Le=function(e){var t=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",null," ",t,":",a)};return r.a.createElement("div",{className:ie.a.profileDataContentWrapper},r.a.createElement("div",{className:ie.a.statusEditButtonChooseFileButton},e.isOwner&&r.a.createElement("button",{onClick:e.goToEditMode},"Edit"),r.a.createElement("div",null,r.a.createElement(Oe,null)),r.a.createElement("div",null,r.a.createElement(Se,{isOwner:e.isOwner}))),r.a.createElement("div",{className:ie.a.profileUserData},r.a.createElement("div",null,r.a.createElement("b",null,"\u0418\u043c\u044f"),": ",e.userProfile.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435"),": ",e.userProfile.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Looking For a job:"),e.userProfile.lookingForAJob?"yes":"no"),r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills:"),e.userProfile.lookingForAJobDescription)),r.a.createElement("div",{className:ie.a.contactsList},r.a.createElement("b",null,"Contacts:"),Object.keys(e.userProfile.contacts).map((function(a){return r.a.createElement(t,{key:a,contactTitle:a,contactValue:e.userProfile.contacts.el})}))))},Te=function(e){var t=Object(n.useState)(!1),a=Object(J.a)(t,2),o=a[0],c=a[1];if(!e.userProfile)return r.a.createElement(G,null);return r.a.createElement("div",{className:ie.a.mainWrapper},o?r.a.createElement(Ne,{userProfile:e.userProfile,isOwner:e.isOwner,setEditMode:c}):r.a.createElement(Le,{userProfile:e.userProfile,isOwner:e.isOwner,goToEditMode:function(){c(!0)}}))},xe=a(52),De=a.n(xe),Fe=a(230),Me=a.n(Fe);var Be=function(e){return r.a.createElement("div",{className:De.a.item},r.a.createElement("div",{className:De.a.contentPost},r.a.createElement("div",{className:De.a.postImg},r.a.createElement("img",{src:"https://www.meme-arsenal.com/memes/335bf12b9769dbcefc4de998cd023aae.jpg"})," "),r.a.createElement("div",{className:De.a.message},e.message),r.a.createElement("div",{className:De.a.heart,onClick:function(){e.onLike(e.id)}},r.a.createElement("div",{className:De.a.likeCounter},e.likes),r.a.createElement("div",null,r.a.createElement(Me.a,null)))))};var Ge=function(e){return r.a.createElement("div",{className:De.a.item},r.a.createElement(Be,{message:e.message,likes:e.likes,id:e.id,onLike:function(t){e.onOnLikeActionCreator(t)}}))},Je=a(209),Qe=a(210),He=function(e){return e?void 0:"Field is required"},ze=function(e){return function(t){return t.length>e?"Max length is ".concat(e," symbols"):void 0}},Ye=a(111),Ve=a.n(Ye),We=function(e){e.input;var t=e.meta,a=e.children,n=(Object(I.a)(e,["input","meta","children"]),t.touched&&t.error);return r.a.createElement("div",{className:Ve.a.form_control+" "+(n?Ve.a.error:"")},r.a.createElement("div",null,a),r.a.createElement("div",null,n&&r.a.createElement("span",null,t.error)))},Ze=function(e){var t=e.input,a=(e.meta,e.child,Object(I.a)(e,["input","meta","child"]));return r.a.createElement(We,e,r.a.createElement("textarea",Object.assign({},t,a))," ")},Xe=function(e){var t=e.input,a=(e.meta,e.child,Object(I.a)(e,["input","meta","child"]));return r.a.createElement(We,e,r.a.createElement("input",Object.assign({},t,a))," ")},Ke=ze(20),qe=Object(Qe.a)({form:"post"})((function(e){var t=e.handleSubmit;e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement(Je.a,{name:"newPostText",component:Ze,placeholder:"New post",validate:[He,Ke]}),r.a.createElement("button",null,"Add"))})),$e=function(e){var t=e.postsData.map((function(t){return r.a.createElement(Ge,{key:t.id,message:t.message,likes:t.likes,id:t.id,onOnLikeActionCreator:e.onOnLikeActionCreator})}));return r.a.createElement("div",{className:De.a.postBlock},r.a.createElement("h3",null,"My posts"),r.a.createElement("div",null,r.a.createElement(qe,{onSubmit:function(t){e.onAddNewPost(t.newPostText)}})),t)},et=Object(b.b)((function(e){return{postsData:e.profilePage.postsData}}),(function(e){return{onAddNewPost:function(t){e(Ee.addNewPostActionCreator(t))},onOnLikeActionCreator:function(t){e(Ee.onLikeActionCreator(t))}}}))($e),tt=a(232),at=a.n(tt);var nt=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:oe.a.wrapper},r.a.createElement("div",{className:oe.a.ProfileInfo},r.a.createElement("div",{className:oe.a.infoComponent},r.a.createElement(Te,{userProfile:e.userProfile,status:e.status,isOwner:e.isOwner,saveAvatar:e.saveAvatar})),r.a.createElement("img",{src:at.a})),r.a.createElement(et,null)))},rt=function(e){var t=function(t){Object(l.a)(n,t);var a=Object(u.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(p.a,{to:"/login"})}}]),n}(r.a.Component);return Object(b.b)((function(e){return{isAuth:e.auth.data.isAuth}}))(t)},ot=a(24),ct=function(e){return e.profilePage.userProfile},it=function(e){return e.profilePage.currentUserStatus},st=function(e){return e.auth.data.id},lt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.recivedUserId),e?(this.props.getUserProfileTC(e),this.props.getUserStatusTC(e)):console.log("ID should exist in URI params or in state")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(nt,Object.assign({},this.props,{userProfile:this.props.userProfile,status:this.props.status,isOwner:!this.props.match.params.userId,saveAvatar:this.props.saveAvatar})))}}]),a}(r.a.Component),ut=Object(ot.d)(Object(b.b)((function(e){return{userProfile:ct(e),status:it(e),recivedUserId:st(e)}}),{setUserProfile:Ee.setUserProfile,setCurrentUserStatus:Ee.setCurrentUserStatus,getUserStatusTC:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:n=t.sent,a(Ee.setCurrentUserStatus(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveAvatarTC:ge,getUserProfileTC:he}),rt,p.h)(lt),mt=a(74),pt=a.n(mt);var ft=function(e){return r.a.createElement("div",{className:pt.a.dialog},r.a.createElement(m.b,{className:pt.a.link,to:"/Chat"},e.name),r.a.createElement("img",{className:pt.a.avatar,src:e.ava}))};var dt,Et,ht=function(e){if(1==e.auth)return r.a.createElement(p.a,{to:"/login"});var t=e.dialogsData.map((function(e){return r.a.createElement(ft,{key:e.id,id:e.id,ava:e.ava,name:e.name})}));return r.a.createElement("div",{className:pt.a.dialogs},r.a.createElement("div",{className:pt.a.dialogsItems},t),r.a.createElement("div",{className:pt.a.messages}))},bt=Object(ot.d)(Object(b.b)((function(e){return{dialogsData:e.dialogsPage.dialogsData,messagesData:e.dialogsPage.messagesData}}),{}),rt)(ht),gt=a(126);!function(e){e[e.success=0]="success",e[e.error=1]="error"}(dt||(dt={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(Et||(Et={}));var vt=function(){return S.get("auth/me").then((function(e){return e.data})).catch((function(){alert("some trouble")}))},Ot=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return S.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n}).then((function(e){return e}))},Ct=function(){return S.get("/security/get-captcha-url")},jt={data:{id:null,email:null,login:null,isAuth:!1,captchaUrl:null}},Pt=function(e,t,a,n){return{type:"authReducer/SET_USER_AUTH_DATA",data:{id:e,email:t,login:a,isAuth:n}}},wt=function(e){return{type:"authReducer/GET_CAPTCHA_URL_SUCCESS",captchaUrl:e}},St=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt();case 2:(a=e.sent).resultCode===dt.success&&t(Pt(a.data.id,a.data.email,a.data.login,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_t=function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct();case 2:a=e.sent,n=a.data.url,t(wt(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"authReducer/SET_USER_AUTH_DATA":return Object(j.a)(Object(j.a)({},e),{},{data:t.data});case"authReducer/GET_CAPTCHA_URL_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)(Object(j.a)({},e.data),{},{captchaUrl:t.captchaUrl})});default:return e}},At=ze(30),kt=Object(Qe.a)({form:"login",onSubmitSuccess:function(e,t){t(Object(gt.a)("login"))}})((function(e){var t=e.handleSubmit,a=e.error,n=e.captchaUrl;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement(Je.a,{name:"email",component:Xe,placeholder:"Login",validate:[He,At]})),r.a.createElement("div",null,r.a.createElement(Je.a,{placeholder:"password",name:"password",component:Xe,validate:[He,At]})),r.a.createElement("div",null,r.a.createElement(Je.a,{component:"input",type:"checkbox",placeholder:"checkbox",name:"rememberMe"}),"Remember me"),r.a.createElement("div",{className:Ve.a.form_summary_error},n&&r.a.createElement("img",{src:n}),n&&r.a.createElement(Je.a,{placeholder:"captcha",name:"captcha",component:Xe,validate:[He]}),a?r.a.createElement("span",null,a):null),r.a.createElement("div",null,r.a.createElement("button",null,"Submit")))})),Ut=Object(b.b)((function(e){return{isAuth:e.auth.data.isAuth,captchaUrl:e.auth.data.captchaUrl}}),{})((function(e){var t=Object(b.c)();if(e.isAuth)return r.a.createElement(p.a,{to:"/Profile"});return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(kt,{onSubmit:function(e){var a,n,r,o;t((a=e.email,n=e.password,r=e.rememberMe,o=e.captcha,function(){var e=Object(O.a)(v.a.mark((function e(t){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(a,n,r,o);case 2:0===(c=e.sent).data.resultCode?t(St()):c.data.resultCode===Et.CaptchaIsRequired&&t(_t());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:e.captchaUrl}))})),It={initialized:!1,error:""},Rt=function(){return{type:"appReducer/INITIALIZED_SUCCESS"}},Nt=function(e){return{type:"appReducer/SET_APP_ERROR",error:e}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"appReducer/INITIALIZED_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});case"appReducer/SET_APP_ERROR":return Object(j.a)(Object(j.a)({},e),{},{error:t.error});default:return e}},Tt=a(173),xt=a(441),Dt=a(444),Ft=a(447),Mt=a(448),Bt=a(116),Gt=a.n(Bt),Jt=a(171),Qt={"messages-received":[],"status-changed":[]},Ht=null,zt=function(){Wt("pending"),setTimeout(Kt,2e3)},Yt=function(e){var t=JSON.parse(e.data);Qt["messages-received"].forEach((function(e){return e(t)}))},Vt=function(){var e,t,a,n;null===(e=Ht)||void 0===e||e.removeEventListener("close",zt),null===(t=Ht)||void 0===t||t.removeEventListener("message",Yt),null===(a=Ht)||void 0===a||a.removeEventListener("error",Xt),null===(n=Ht)||void 0===n||n.removeEventListener("open",Zt)},Wt=function(e){Qt["status-changed"].forEach((function(t){return t(e)}))},Zt=function(){Wt("ready")},Xt=function(){Wt("error"),console.error("RESTART PAGE")};function Kt(){var e;Vt(),null===(e=Ht)||void 0===e||e.close(),Ht=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),Wt("pending"),Ht.addEventListener("message",Yt),Ht.addEventListener("close",zt),Ht.addEventListener("open",Zt),Ht.addEventListener("error",Xt)}var qt=function(){Kt()},$t=function(){var e;null===(e=Ht)||void 0===e||e.close(),Vt(),Qt["messages-received"]=[],Qt["status-changed"]=[]},ea=function(e,t){return Qt[e].push(t),function(){Qt[e]=Qt[e].filter((function(e){return e!==t}))}},ta=function(e,t){Qt[e]=Qt[e].filter((function(e){return e!==t}))},aa=function(e){var t;null===(t=Ht)||void 0===t||t.send(e)},na={messages:[],status:"pending"},ra=function(e){return{type:"chatReducer/MESSAGES_RECEIVED",payload:{messages:e}}},oa=function(e){return{type:"chatReducer/STATUS_CHANGING",payload:{status:e}}},ca=null,ia=function(e){return null==ca?ca=function(t){e(ra(t))}:ca},sa=null,la=function(e){return null==sa?sa=function(t){e(oa(t))}:sa},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"chatReducer/MESSAGES_RECEIVED":return Object(j.a)(Object(j.a)({},e),{},{messages:[].concat(Object(C.a)(e.messages),Object(C.a)(t.payload.messages.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{id:Object(se.a)()})})))).filter((function(e,t,a){return t>=a.length-15}))});case"chatReducer/STATUS_CHANGING":return Object(j.a)(Object(j.a)({},e),{},{status:t.payload.status});default:return e}},ma=function(){var e=Object(b.c)();return Object(n.useEffect)((function(){return e(function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qt(),ea("messages-received",ia(t)),ea("status-changed",la(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){e(function(){var e=Object(O.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ta("messages-received",ia(t)),ta("status-changed",la(t)),$t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[]),console.log("Chat rendered"),r.a.createElement("div",null,r.a.createElement(fa,null),r.a.createElement(pa,null))},pa=function(e){Object(Jt.a)(e);var t=Object(n.useState)(""),a=Object(J.a)(t,2),o=a[0],c=a[1],i=Object(b.d)((function(e){return e.chat.status})),s=Object(b.c)();console.log(i);return r.a.createElement("div",null,r.a.createElement("textarea",{style:{},onChange:function(e){return c(e.currentTarget.value)}}),r.a.createElement("button",{disabled:"ready"!==i,onClick:function(){o&&s(function(e){return function(){var t=Object(O.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:aa(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o))}},"SEND"))},fa=function(e){Object(Jt.a)(e);var t=Object(b.d)((function(e){return e.chat.messages})),a=Object(n.useRef)(null),o=Object(n.useState)(!0),c=Object(J.a)(o,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){var e;i&&(null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),r.a.createElement("div",{style:{height:"400px",overflow:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!i&&s(!0):i&&s(!1)}},t.map((function(e,t){return r.a.createElement(da,{key:e.id,message:e})})),r.a.createElement("div",{ref:a}))},da=r.a.memo((function(e){var t=e.message;return console.log(">>>>>>>message"),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"40px"},src:t.photo?t.photo:"https://via.placeholder.com/40"}),r.a.createElement("b",null,t.userName),r.a.createElement("br",null),t.message,r.a.createElement("hr",null))})),Ea=function(){return r.a.createElement("div",null,r.a.createElement(ma,null))},ha=Tt.a.SubMenu,ba=xt.a.Header,ga=xt.a.Content,va=xt.a.Footer,Oa=xt.a.Sider,Ca=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeAppTC()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.props.isInitialized?r.a.createElement(xt.a,null,r.a.createElement(ba,{className:"header"},r.a.createElement("div",{className:"logo"}),r.a.createElement(Tt.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]},r.a.createElement(Tt.a.Item,{key:"1"},"nav 1"),r.a.createElement(Tt.a.Item,{key:"2"},"nav 2"),r.a.createElement(Tt.a.Item,{key:"3"},"nav 3"))),r.a.createElement(ga,{style:{padding:"0 50px"}},r.a.createElement(Dt.a,{style:{margin:"16px 0"}},r.a.createElement(Dt.a.Item,null,"Home"),r.a.createElement(Dt.a.Item,null,"List"),r.a.createElement(Dt.a.Item,null,"App")),r.a.createElement(xt.a,{className:"site-layout-background",style:{padding:"24px 0"}},r.a.createElement(Oa,{className:"site-layout-background",width:200},r.a.createElement(Tt.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%"}},r.a.createElement(ha,{key:"sub1",icon:r.a.createElement(Ft.a,null),title:"Profile"},r.a.createElement(Tt.a.Item,{key:"1"},r.a.createElement(m.b,{activeClassName:Gt.a.active,to:"/Profile"},"Profile")),r.a.createElement(Tt.a.Item,{key:"2"},r.a.createElement(m.b,{activeClassName:Gt.a.active,to:"/Dialogs"},"Messages")),r.a.createElement(Tt.a.Item,{key:"3"},r.a.createElement(m.b,{activeClassName:Gt.a.active,to:"/chat"},"Chat"))),r.a.createElement(ha,{key:"sub2",icon:r.a.createElement(Mt.a,null),title:"Developers"},r.a.createElement(Tt.a.Item,{key:"5"},r.a.createElement(m.b,{activeClassName:Gt.a.active,to:"/Users"},"Users"))))),r.a.createElement(ga,{style:{padding:"0 24px",minHeight:280}},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/My_1First_.SocialNetwork_styding_progect",render:function(){return r.a.createElement(p.a,{to:"/Profile"})}}),r.a.createElement(p.b,{path:"/Profile/:userId?",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(p.b,{path:"/Dialogs",render:function(){return r.a.createElement(bt,null)}}),r.a.createElement(p.b,{path:"/News",render:function(){return r.a.createElement(f,null)}}),r.a.createElement(p.b,{path:"/Music",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(p.b,{path:"/users",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement(Ut,null)}}),r.a.createElement(p.b,{path:"/chat",render:function(){return r.a.createElement(Ea,null)}})," /* \u0421\u0434\u0435\u043b\u0430\u0439 \u0441\u0430\u0441\u043f\u0435\u043d\u0441!!!!*/",r.a.createElement(p.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 not found!")}}))))),r.a.createElement(va,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED")):r.a.createElement(G,null)}}]),a}(r.a.Component),ja=Object(ot.d)(p.h,Object(b.b)((function(e){return{isInitialized:e.app.initialized}}),{initializeAppTC:function(){return function(){var e=Object(O.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t(St()),e.next=3,Promise.all([a]).then((function(){t(Rt())})).catch((function(e){t(Nt(e))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Ca);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pa={dialogsData:[{id:Object(se.a)(),name:"Dima",ava:"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg"},{id:Object(se.a)(),name:"Andrew",ava:"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg"},{id:Object(se.a)(),name:"Kostya",ava:"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg"},{id:Object(se.a)(),name:"Lexa",ava:"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg"}],messagesData:[{id:Object(se.a)(),text:"Hello"},{id:Object(se.a)(),text:"Hello"},{id:Object(se.a)(),text:"Petya"},{id:Object(se.a)(),text:"Goodbye"}]},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogsReducer/SEND_MESSAGE":var a=Object(j.a)({},e);return a.messagesData=[].concat(Object(C.a)(e.messagesData),[{id:Object(se.a)(),text:t.newMessage}]),a;default:return e}},Sa={},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa;return e},ya=a(239),Aa=a(211),ka=Object(ot.c)({profilePage:ve,dialogsPage:wa,sidebarPage:_a,UsersPage:U,auth:yt,form:Aa.a,app:Lt,chat:ua}),Ua=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ot.d,Ia=Object(ot.e)(ka,Ua(Object(ot.a)(ya.a)));window.store=Ia;var Ra=Ia;c.a.render(r.a.createElement(m.a,null,r.a.createElement(b.a,{store:Ra},r.a.createElement(ja,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,a){e.exports={postBlock:"MyPosts_postBlock__8lilt",contentPost:"MyPosts_contentPost__OJG5n",item:"MyPosts_item__vfFDW",message:"MyPosts_message__3_rB0",postImg:"MyPosts_postImg__2938V",heart:"MyPosts_heart__2XWaM",likeCounter:"MyPosts_likeCounter__2_L3x"}},74:function(e,t,a){e.exports={dialogs:"dialogs_dialogs__EDPtQ",dialogsItems:"dialogs_dialogsItems__1wfm2",active:"dialogs_active__aLogn",messages:"dialogs_messages__hiSJp",message:"dialogs_message__d98SE",avatar:"dialogs_avatar__2J_CQ",link:"dialogs_link__1GBlT"}},86:function(e,t,a){e.exports={wrapper:"Paginator_wrapper__DogQy",contentWrap:"Paginator_contentWrap__KZwyC",pageNumber:"Paginator_pageNumber__7Woks",selectedPage:"Paginator_selectedPage__1lwww",button:"Paginator_button__2JoXv"}},98:function(e,t,a){e.exports={mainWrapper:"ProfileInfo_mainWrapper__2Khki",profileDataContentWrapper:"ProfileInfo_profileDataContentWrapper__2QwnM",statusEditButtonChooseFileButton:"ProfileInfo_statusEditButtonChooseFileButton__2Eikx",profileUserData:"ProfileInfo_profileUserData__3aDIc",contactsList:"ProfileInfo_contactsList__2_bC-"}},99:function(e,t,a){e.exports={profileDataContentWrapper:"ProfileForm_profileDataContentWrapper__2VpqU",statusEditButtonChooseFileButton:"ProfileForm_statusEditButtonChooseFileButton__1w9rM",profileUserData:"ProfileForm_profileUserData__3xvIv",contactsList:"ProfileForm_contactsList__2oS3n"}}},[[275,1,2]]]);
//# sourceMappingURL=main.bde15b0b.chunk.js.map